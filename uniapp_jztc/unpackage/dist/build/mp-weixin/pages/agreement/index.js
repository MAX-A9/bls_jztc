"use strict";const e=require("../../common/vendor.js"),t=require("../../apis/index.js"),n=require("../../utils/device-info.js"),r={data:()=>({statusBarHeight:0,navBarHeight:44,title:"协议详情",content:"",type:"",loading:!0,errorMsg:""}),onLoad(e){this.type=e.type||"privacy",this.statusBarHeight=n.deviceInfo.getStatusBarHeight(),this.loadAgreementContent()},methods:{handleBack(){e.index.navigateBack()},async loadAgreementContent(){this.loading=!0,this.errorMsg="";try{const e=await t.agreement.getAgreement({type:this.type});if(0!==e.code||!e.data)throw new Error(e.message||"获取协议内容失败");this.content=e.data.content||`暂无${this.title}内容`,this.loading=!1}catch(e){console.error("获取协议内容失败:",e),this.errorMsg=e.message||"获取协议内容失败，请重试",this.loading=!1}}}};if(!Array){e.resolveComponent("uni-icons")()}Math;const a=e._export_sfc(r,[["render",function(t,n,r,a,o,i){return e.e({a:e.p({type:"left",size:"20",color:"#333333"}),b:e.o(((...e)=>i.handleBack&&i.handleBack(...e))),c:e.t(o.title),d:o.navBarHeight+"px",e:o.statusBarHeight+"px",f:!o.loading},o.loading?{}:{g:o.content},{h:o.loading},o.loading?{i:e.p({type:"spinner-cycle",size:"30",color:"#fc3e2b"})}:{},{j:o.errorMsg},o.errorMsg?{k:e.p({type:"info",size:"50",color:"#cccccc"}),l:e.t(o.errorMsg),m:e.o(((...e)=>i.loadAgreementContent&&i.loadAgreementContent(...e)))}:{},{n:`calc(${o.statusBarHeight}px + ${o.navBarHeight}px)`})}]]);wx.createPage(a);
