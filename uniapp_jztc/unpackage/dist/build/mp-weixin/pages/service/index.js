"use strict";const e=require("../../common/vendor.js"),t={mixins:[require("../../mixins/device-adapter.js").deviceAdapter],computed:{pageStyle(){return{"--nav-height":`${this.layoutSize.navHeight}px`,"--settlement-height":`${this.layoutSize.settlementHeight}rpx`,"--content-padding":`${this.layoutSize.contentPadding}rpx`,"--card-gap":`${this.layoutSize.cardGap}rpx`,"--content-bottom":`${this.layoutSize.contentBottom}rpx`}}},data:()=>({pageTitle:"安装维修",isAgreed:!1,currentService:"",demandText:"",keywords:["柜子","空调","洗衣机","电视","床","沙发","衣柜","冰箱","热水器","油烟机"],selectedAddress:null,selectedTime:"",imageList:[],noteText:""}),methods:{handleBack(){e.index.navigateBack({delta:1,fail:()=>{e.index.switchTab({url:"/pages/index/index"})}})},handleShowDetail(){e.index.showModal({title:"费用明细",content:"服务费：¥15.0\n总计：¥15.0",showCancel:!1})},handleReadAgreement(){e.index.navigateTo({url:"/pages/agreement/service"})},toggleAgreement(){this.isAgreed=!this.isAgreed},handleSubmitOrder(){this.isAgreed?e.index.showLoading({title:"提交中..."}):e.index.showToast({title:"请先阅读并同意服务协议",icon:"none"})},selectService(e){this.currentService=e},selectKeyword(e){this.demandText?this.demandText=this.demandText.trim()+"，"+e:this.demandText=e},handleSelectAddress(){e.index.navigateTo({url:"/pages/address/list?type=service"})},handleSelectTime(){e.index.navigateTo({url:"/pages/service/time"})},previewImage(t){e.index.previewImage({urls:this.imageList,current:t})},deleteImage(e){this.imageList.splice(e,1)},chooseImage(){e.index.chooseImage({count:4-this.imageList.length,sizeType:["compressed"],sourceType:["album","camera"],success:e=>{this.imageList=[...this.imageList,...e.tempFilePaths]}})},handleCheckPrice(){e.index.navigateTo({url:"/pages/service/nearby-price"})}}};if(!Array){e.resolveComponent("uni-icons")()}Math;const i=e._export_sfc(t,[["render",function(t,i,a,s,r,n){return e.e({a:t.navigationBarHeight+"px",b:e.p({type:"left",size:"20",color:"#333333"}),c:e.o(((...e)=>n.handleBack&&n.handleBack(...e))),d:e.t(r.pageTitle),e:t.statusBarHeight+"px",f:e.p({type:"tools",size:"32",color:"install"===r.currentService?"#007AFF":"#666666"}),g:"install"===r.currentService?1:"",h:e.o((e=>n.selectService("install"))),i:e.p({type:"refresh",size:"32",color:"repair"===r.currentService?"#007AFF":"#666666"}),j:"repair"===r.currentService?1:"",k:e.o((e=>n.selectService("repair"))),l:e.p({type:"clear",size:"32",color:"clean"===r.currentService?"#007AFF":"#666666"}),m:"clean"===r.currentService?1:"",n:e.o((e=>n.selectService("clean"))),o:r.demandText,p:e.o((e=>r.demandText=e.detail.value)),q:e.t(r.demandText.length),r:e.f(r.keywords,((t,i,a)=>({a:e.t(t),b:i,c:e.o((e=>n.selectKeyword(t)),i)}))),s:!r.selectedAddress},r.selectedAddress?{v:e.t(r.selectedAddress.name),w:e.t(r.selectedAddress.phone),x:e.t(r.selectedAddress.address)}:{t:e.p({type:"location",size:"20",color:"#666666"})},{y:e.p({type:"right",size:"16",color:"#CCCCCC"}),z:e.o(((...e)=>n.handleSelectAddress&&n.handleSelectAddress(...e))),A:!r.selectedTime},r.selectedTime?{C:e.t(r.selectedTime)}:{B:e.p({type:"calendar",size:"20",color:"#666666"})},{D:e.p({type:"right",size:"16",color:"#CCCCCC"}),E:e.o(((...e)=>n.handleSelectTime&&n.handleSelectTime(...e))),F:e.f(r.imageList,((t,i,a)=>({a:t,b:"6007866c-8-"+a,c:e.o((e=>n.deleteImage(i)),i),d:i,e:e.o((e=>n.previewImage(i)),i)}))),G:e.p({type:"clear",size:"12",color:"#FFFFFF"}),H:r.imageList.length<4},r.imageList.length<4?{I:e.p({type:"camera",size:"24",color:"#666666"}),J:e.o(((...e)=>n.chooseImage&&n.chooseImage(...e)))}:{},{K:r.noteText,L:e.o((e=>r.noteText=e.detail.value)),M:e.t(r.noteText.length),N:t.navigationBarHeight+"px",O:e.p({type:"right",size:"12",color:"#E6F0FF"}),P:e.o(((...e)=>n.handleSubmitOrder&&n.handleSubmitOrder(...e))),Q:e.s(n.pageStyle)})}]]);wx.createPage(i);
