"use strict";const e=require("../../common/vendor.js"),t=require("../../mixins/device.js"),n=require("../../utils/message-polling.js"),a=require("../../common/assets.js"),s={name:"TabBar",mixins:[t.deviceMixin],props:{currentTab:{type:Number,default:0}},data:()=>({unreadCount:0,unreadCountUnsubscribe:null}),created(){this.unreadCountUnsubscribe=n.messagePollingService.addUnreadCountListener((e=>{this.unreadCount=e}))},beforeDestroy(){this.unreadCountUnsubscribe&&(this.unreadCountUnsubscribe(),this.unreadCountUnsubscribe=null)},methods:{switchTab(t){const n=["/pages/index/index","/pages/community/index","/pages/publish/index","/pages/message/index","/pages/my/index"];t>=0&&t<n.length&&e.index.switchTab({url:n[t]})}}};const r=e._export_sfc(s,[["render",function(t,n,s,r,i,u){return e.e({a:t.safeAreaInsets.bottom+"px",b:0===s.currentTab?"/static/tabbar/sy-liang.png":"/static/tabbar/sy.png",c:0===s.currentTab?1:"",d:e.o((e=>u.switchTab(0))),e:1===s.currentTab?"/static/tabbar/sq-liang.png":"/static/tabbar/sq.png",f:1===s.currentTab?1:"",g:e.o((e=>u.switchTab(1))),h:a._imports_0$7,i:e.o((e=>u.switchTab(2))),j:3===s.currentTab?"/static/tabbar/xiaoxi-liang.png":"/static/tabbar/xiaoxi.png",k:3===s.currentTab?1:"",l:i.unreadCount>0},i.unreadCount>0?{m:e.t(i.unreadCount>99?"99+":i.unreadCount)}:{},{n:e.o((e=>u.switchTab(3))),o:4===s.currentTab?"/static/tabbar/my-liang.png":"/static/tabbar/my.png",p:4===s.currentTab?1:"",q:e.o((e=>u.switchTab(4))),r:t.safeAreaInsets.bottom+"px"})}]]);wx.createComponent(r);
