"use strict";const o=require("../../common/vendor.js"),n={name:"exchange-popup",components:{uniPopup:()=>"../../node-modules/@dcloudio/uni-ui/lib/uni-popup/uni-popup.js",uniIcons:()=>"../../node-modules/@dcloudio/uni-ui/lib/uni-icons/uni-icons.js"},data:()=>({phone:"",confirmPhone:"",productInfo:null}),mounted(){console.log("Exchange popup component mounted")},methods:{open(o){console.log("Try to open popup with product:",o),this.productInfo=o,this.phone="",this.confirmPhone="",this.$nextTick((()=>{this.$refs.popup?this.$refs.popup.open("bottom"):console.error("Popup ref not found")}))},closePopup(){this.$refs.popup.close()},handleConfirm(){if(!this.phone)return void o.index.showToast({title:"请输入手机号",icon:"none"});if(!/^1\d{10}$/.test(this.phone))return void o.index.showToast({title:"请输入正确的手机号",icon:"none"});if(this.phone!==this.confirmPhone)return void o.index.showToast({title:"两次输入的手机号不一致",icon:"none"});const n={duration:this.productInfo.duration||0,productName:this.productInfo.name||"",rechargeAccount:this.phone};this.$emit("confirm",n),this.closePopup()}}};if(!Array){(o.resolveComponent("uni-icons")+o.resolveComponent("uni-popup"))()}Math||((()=>"../../node-modules/@dcloudio/uni-ui/lib/uni-icons/uni-icons.js")+(()=>"../../node-modules/@dcloudio/uni-ui/lib/uni-popup/uni-popup.js"))();const e=o._export_sfc(n,[["render",function(n,e,i,p,t,u){return o.e({a:o.p({type:"close",size:"20",color:"#333"}),b:o.o(((...o)=>u.closePopup&&u.closePopup(...o))),c:t.productInfo},t.productInfo?{d:t.productInfo.thumbnail,e:o.t(t.productInfo.name),f:o.t(t.productInfo.duration)}:{},{g:t.phone,h:o.o((o=>t.phone=o.detail.value)),i:t.confirmPhone,j:o.o((o=>t.confirmPhone=o.detail.value)),k:o.o(((...o)=>u.handleConfirm&&u.handleConfirm(...o))),l:o.sr("popup","2792bd8a-0"),m:o.p({type:"bottom"})})}]]);wx.createComponent(e);
