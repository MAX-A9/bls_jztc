"use strict";const e=require("../../common/vendor.js"),n=require("../../utils/request.js"),a={name:"SwiperBanner",data:()=>({current:0,bannerList:[],isGlobalEnabled:!1}),created(){},methods:{async fetchBannerData(){try{const e=await n.get("/wx/banner/list");e&&0===e.code&&(this.isGlobalEnabled=e.data.isGlobalEnabled,this.isGlobalEnabled&&e.data.list&&(this.bannerList=e.data.list.filter((e=>e.isEnabled)).sort(((e,n)=>e.order-n.order))))}catch(e){console.error("获取轮播图数据失败",e)}},handleChange(e){this.current=e.detail.current},handleClick(n){n&&n.linkUrl&&("page"===n.linkType?e.index.navigateTo({url:"/"+n.linkUrl,fail:e=>{console.error("页面跳转失败",n.linkUrl,e)}}):"webview"===n.linkType?e.index.navigateTo({url:"/pages/webview/index?url="+encodeURIComponent(n.linkUrl),fail:e=>{console.error("网页跳转失败",n.linkUrl,e)}}):"miniprogram"===n.linkType&&e.index.navigateToMiniProgram({appId:n.linkUrl,fail:a=>{console.error("小程序跳转失败",n.linkUrl,a),e.index.showToast({title:"跳转失败",icon:"none"})}}))}}};const r=e._export_sfc(a,[["render",function(n,a,r,l,i,t){return e.e({a:i.isGlobalEnabled},i.isGlobalEnabled?{b:e.f(i.bannerList,((n,a,r)=>({a:n.image,b:a,c:e.o((e=>t.handleClick(n)),a)}))),c:e.o(((...e)=>t.handleChange&&t.handleChange(...e))),d:e.f(i.bannerList,((e,n,a)=>({a:n,b:i.current===n?1:""})))}:{})}]]);wx.createComponent(r);
