"use strict";const e=require("../apis/index.js");let t=null;async function n(n=!1){if(t&&!n)return t;try{const n=await e.share.getShareSettings();return n&&0===n.code&&n.data?(t=n.data,t):(console.error("获取分享设置失败:",n),null)}catch(a){return console.error("获取分享设置出错:",a),null}}exports.getContentShareOptions=async function(e){const t=await n();return t?{title:(null==e?void 0:e.title)||t.content_share_text,imageUrl:(null==e?void 0:e.cover)||t.content_share_image,path:(null==e?void 0:e.id)?`/pages/content/detail?id=${e.id}`:"/pages/index/index"}:{title:"分享内容",path:"/pages/index/index"}},exports.getDefaultShareOptions=async function(e="/pages/index/index"){const t=await n();return t?{title:t.default_share_text,imageUrl:t.default_share_image,path:e}:{title:"欢迎访问",path:e}},exports.getHomeShareOptions=async function(){const e=await n();return e?{title:e.home_share_text,imageUrl:e.home_share_image,path:"/pages/index/index"}:{title:"欢迎访问",path:"/pages/index/index"}},exports.getShareSettings=n;
