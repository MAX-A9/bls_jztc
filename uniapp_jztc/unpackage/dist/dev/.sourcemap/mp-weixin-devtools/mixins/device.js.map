{"version":3,"names":["deviceMixin","data","isIOS","isAndroid","statusBarHeight","navBarHeight","screenWidth","screenHeight","safeAreaInsets","top","right","bottom","left","created","systemInfo","common_vendor","index","getWindowInfo","getDeviceInfo","appBaseInfo","getAppBaseInfo","platform","safeArea","computed","navigationBarHeight","safeAreaHeight","contentHeight","methods","rpx2px","rpx","px2rpx","px","isIphoneX","getBottomSafeDistance"],"sources":["device.js"],"sourcesContent":["import { ref } from 'vue'\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t// 设备相关\r\n\t\t\tisIOS: false,\r\n\t\t\tisAndroid: false,\r\n\t\t\tstatusBarHeight: 20,\r\n\t\t\tnavBarHeight: 44,\r\n\t\t\t// 屏幕信息\r\n\t\t\tscreenWidth: 375,\r\n\t\t\tscreenHeight: 667,\r\n\t\t\t// 安全区域\r\n\t\t\tsafeAreaInsets: {\r\n\t\t\t\ttop: 0,\r\n\t\t\t\tright: 0,\r\n\t\t\t\tbottom: 0,\r\n\t\t\t\tleft: 0\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\t// 使用新的API获取系统信息\r\n\t\tconst systemInfo = uni.getWindowInfo()\r\n\t\tconst deviceInfo = uni.getDeviceInfo()\r\n\t\tconst appBaseInfo = uni.getAppBaseInfo()\r\n\t\t\r\n\t\t// 判断系统类型\r\n\t\tthis.isIOS = appBaseInfo.platform === 'ios'\r\n\t\tthis.isAndroid = appBaseInfo.platform === 'android'\r\n\t\t\r\n\t\t// 获取状态栏高度\r\n\t\tthis.statusBarHeight = systemInfo.statusBarHeight\r\n\t\t\r\n\t\t// 设置导航栏高度\r\n\t\tthis.navBarHeight = this.isIOS ? 44 : 48\r\n\t\t\r\n\t\t// 获取屏幕信息\r\n\t\tthis.screenWidth = systemInfo.screenWidth\r\n\t\tthis.screenHeight = systemInfo.screenHeight\r\n\t\t\r\n\t\t// 获取安全区域\r\n\t\tconst safeArea = systemInfo.safeArea\r\n\t\tif (safeArea) {\r\n\t\t\tthis.safeAreaInsets = {\r\n\t\t\t\ttop: safeArea.top,\r\n\t\t\t\tright: this.screenWidth - safeArea.right,\r\n\t\t\t\tbottom: this.screenHeight - safeArea.bottom,\r\n\t\t\t\tleft: safeArea.left\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t// 状态栏+导航栏的总高度\r\n\t\tnavigationBarHeight() {\r\n\t\t\treturn this.statusBarHeight + this.navBarHeight\r\n\t\t},\r\n\t\t// 获取安全区域高度\r\n\t\tsafeAreaHeight() {\r\n\t\t\treturn this.screenHeight - this.safeAreaInsets.top - this.safeAreaInsets.bottom\r\n\t\t},\r\n\t\t// 获取内容区域高度(去除导航栏和安全区域)\r\n\t\tcontentHeight() {\r\n\t\t\treturn this.safeAreaHeight - this.navigationBarHeight\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// rpx 转 px\r\n\t\trpx2px(rpx) {\r\n\t\t\treturn rpx / 750 * this.screenWidth\r\n\t\t},\r\n\t\t// px 转 rpx\r\n\t\tpx2rpx(px) {\r\n\t\t\treturn px * 750 / this.screenWidth\r\n\t\t},\r\n\t\t// 判断是否为 iPhone X 系列\r\n\t\tisIphoneX() {\r\n\t\t\treturn this.isIOS && this.safeAreaInsets.bottom > 0\r\n\t\t},\r\n\t\t// 获取底部安全距离\r\n\t\tgetBottomSafeDistance() {\r\n\t\t\treturn this.isIphoneX() ? this.safeAreaInsets.bottom : 0\r\n\t\t}\r\n\t}\r\n} "],"mappings":";;;;AAEA,IAAeA,WAAA;EACdC,IAAA,WAAAA,KAAA,EAAO;IACN,OAAO;MAAA;MAENC,KAAA,EAAO;MACPC,SAAA,EAAW;MACXC,eAAA,EAAiB;MACjBC,YAAA,EAAc;MAAA;MAEdC,WAAA,EAAa;MACbC,YAAA,EAAc;MAAA;MAEdC,cAAA,EAAgB;QACfC,GAAA,EAAK;QACLC,KAAA,EAAO;QACPC,MAAA,EAAQ;QACRC,IAAA,EAAM;MACN;IACD;EACD;EACDC,OAAA,WAAAA,QAAA,EAAU;IAET,IAAMC,UAAA,GAAaC,aAAA,CAAGC,KAAA,CAACC,aAAA,EAAe;IACnBF,aAAA,CAAAC,KAAA,CAAIE,aAAA,EAAe;IACtC,IAAMC,WAAA,GAAcJ,aAAA,CAAGC,KAAA,CAACI,cAAA,EAAgB;IAGxC,KAAKlB,KAAA,GAAQiB,WAAA,CAAYE,QAAA,KAAa;IACtC,KAAKlB,SAAA,GAAYgB,WAAA,CAAYE,QAAA,KAAa;IAG1C,KAAKjB,eAAA,GAAkBU,UAAA,CAAWV,eAAA;IAGlC,KAAKC,YAAA,GAAe,KAAKH,KAAA,GAAQ,KAAK;IAGtC,KAAKI,WAAA,GAAcQ,UAAA,CAAWR,WAAA;IAC9B,KAAKC,YAAA,GAAeO,UAAA,CAAWP,YAAA;IAG/B,IAAMe,QAAA,GAAWR,UAAA,CAAWQ,QAAA;IAC5B,IAAIA,QAAA,EAAU;MACb,KAAKd,cAAA,GAAiB;QACrBC,GAAA,EAAKa,QAAA,CAASb,GAAA;QACdC,KAAA,EAAO,KAAKJ,WAAA,GAAcgB,QAAA,CAASZ,KAAA;QACnCC,MAAA,EAAQ,KAAKJ,YAAA,GAAee,QAAA,CAASX,MAAA;QACrCC,IAAA,EAAMU,QAAA,CAASV;MACf;IACD;EACD;EACDW,QAAA,EAAU;IAAA;IAETC,mBAAA,WAAAA,oBAAA,EAAsB;MACrB,OAAO,KAAKpB,eAAA,GAAkB,KAAKC,YAAA;IACnC;IAAA;IAEDoB,cAAA,WAAAA,eAAA,EAAiB;MAChB,OAAO,KAAKlB,YAAA,GAAe,KAAKC,cAAA,CAAeC,GAAA,GAAM,KAAKD,cAAA,CAAeG,MAAA;IACzE;IAAA;IAEDe,aAAA,WAAAA,cAAA,EAAgB;MACf,OAAO,KAAKD,cAAA,GAAiB,KAAKD,mBAAA;IAClC;EACD;EACDG,OAAA,EAAS;IAAA;IAERC,MAAA,WAAAA,OAAOC,GAAA,EAAK;MACX,OAAOA,GAAA,GAAM,MAAM,KAAKvB,WAAA;IACxB;IAAA;IAEDwB,MAAA,WAAAA,OAAOC,EAAA,EAAI;MACV,OAAOA,EAAA,GAAK,MAAM,KAAKzB,WAAA;IACvB;IAAA;IAED0B,SAAA,WAAAA,UAAA,EAAY;MACX,OAAO,KAAK9B,KAAA,IAAS,KAAKM,cAAA,CAAeG,MAAA,GAAS;IAClD;IAAA;IAEDsB,qBAAA,WAAAA,sBAAA,EAAwB;MACvB,OAAO,KAAKD,SAAA,EAAW,GAAG,KAAKxB,cAAA,CAAeG,MAAA,GAAS;IACvD;EACD;AACF","ignoreList":[]}