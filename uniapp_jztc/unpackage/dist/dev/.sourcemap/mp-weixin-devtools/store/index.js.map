{"version":3,"names":["TOKEN_KEY","USER_INFO_KEY","common_vendor","index$1","store","Store","modules","user","store_modules_user","strict","userInfo","index","getStorageSync","token","commit","JSON","parse"],"sources":["index.js"],"sourcesContent":["// import Vue from 'vue'\r\nimport * as Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport user from './modules/user'\r\n\r\n// 本地存储键名\r\nconst TOKEN_KEY = 'TOKEN'\r\nconst USER_INFO_KEY = 'USER_INFO'\r\n\r\nVue.use(Vuex)\r\n\r\nconst store = new Vuex.Store({\r\n  modules: {\r\n    user\r\n  },\r\n  strict: process.env.NODE_ENV !== 'production'\r\n})\r\n\r\n// 在页面刷新时从本地存储中恢复状态\r\nconst userInfo = uni.getStorageSync(USER_INFO_KEY)\r\nconst token = uni.getStorageSync(TOKEN_KEY)\r\n\r\nif (userInfo) {\r\n  store.commit('user/SET_USER_INFO', JSON.parse(userInfo))\r\n}\r\n\r\nif (token) {\r\n  store.commit('user/SET_TOKEN', token)\r\n}\r\n\r\nexport default store "],"mappings":";;;;;AAMA,IAAMA,SAAA,GAAY;AAClB,IAAMC,aAAA,GAAgB;AAEtB,SAAQC,aAAA,CAAIC,OAAA;AAEN,IAAAC,KAAA,GAAQ,IAAIF,aAAA,CAAAC,OAAA,CAAKE,KAAA,CAAM;EAC3BC,OAAA,EAAS;IAAAC,IAAA,EACPC,kBAAA,CAAAD;EACF;EACAE,MAAA,EAAQ;AACV,CAAC;AAGD,IAAMC,QAAA,GAAWR,aAAA,CAAIS,KAAA,CAAAC,cAAA,CAAeX,aAAa;AACjD,IAAMY,KAAA,GAAQX,aAAA,CAAIS,KAAA,CAAAC,cAAA,CAAeZ,SAAS;AAE1C,IAAIU,QAAA,EAAU;EACZN,KAAA,CAAMU,MAAA,CAAO,sBAAsBC,IAAA,CAAKC,KAAA,CAAMN,QAAQ,CAAC;AACzD;AAEA,IAAIG,KAAA,EAAO;EACHT,KAAA,CAAAU,MAAA,CAAO,kBAAkBD,KAAK;AACtC","ignoreList":[]}