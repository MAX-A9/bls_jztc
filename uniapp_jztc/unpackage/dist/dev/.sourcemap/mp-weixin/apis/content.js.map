{"version":3,"file":"content.js","sources":["apis/content.js"],"sourcesContent":["import { get, post, put, del } from '@/utils/request'\r\n\r\n// 通用处理函数：确保页码不小于1\r\nfunction ensureValidPageNumber(params) {\r\n  if (params && params.page !== undefined) {\r\n    params.page = Math.max(1, parseInt(params.page) || 1);\r\n  }\r\n  return params;\r\n}\r\n\r\n// 获取内容分类列表\r\nexport function getCategories(type = 1) {\r\n  return get('/categories', { type })\r\n}\r\n\r\n// 获取信息分类列表\r\nexport function getInfoCategories(type = 1) {\r\n  return get('/wx/client/content/categories', { type }, true)\r\n}\r\n\r\n// 按分类获取内容列表\r\nexport function getCategoryList(params) {\r\n  return get('/category/list', params)\r\n}\r\n\r\n// 获取内容详情\r\nexport function getContentDetail(id) {\r\n  return get('/detail', { id })\r\n}\r\n\r\n// 获取公开内容详情\r\nexport function getPublicContentDetail(id) {\r\n  return get('/wx/client/content/public/detail', { id }, true)\r\n}\r\n\r\n// 发布信息\r\nexport function createInfo(data) {\r\n  return post('/wx/client/content/info/create', data)\r\n}\r\n\r\n// 更新内容\r\nexport function updateContent(id, data) {\r\n  return put(`/update/${id}`, data)\r\n}\r\n\r\n// 删除内容\r\nexport function deleteContent(id) {\r\n  return del(`/delete/${id}`)\r\n}\r\n\r\n// 收藏内容\r\nexport function collectContent(id) {\r\n  return post(`/collect/${id}`)\r\n}\r\n\r\n// 取消收藏\r\nexport function uncollectContent(id) {\r\n  return del(`/collect/${id}`)\r\n}\r\n\r\n// 关注发布人\r\nexport const followUser = (data) => {\r\n\treturn post('/wx/publisher/follow', {\r\n\t\tpublisher_id: data.publisher_id\r\n\t})\r\n}\r\n\r\n// 取消关注发布人\r\nexport const unfollowUser = (data) => {\r\n\treturn post('/wx/publisher/unfollow', {\r\n\t\tpublisher_id: data.publisher_id\r\n\t})\r\n}\r\n\r\n// 评论内容\r\nexport function commentContent(id, data) {\r\n  return post(`/comment/${id}`, data)\r\n}\r\n\r\n// 举报内容\r\nexport function reportContent(id, data) {\r\n  return post(`/report/${id}`, data)\r\n}\r\n\r\n// 发布闲置物品\r\nexport function createIdle(data) {\r\n  return post('/wx/client/content/idle/create', data)\r\n}\r\n\r\n// 获取区域内容列表\r\nexport function getRegionContentList(params) {\r\n  return get('/wx/client/content/region/list', ensureValidPageNumber(params), true)\r\n}\r\n\r\n// 创建评论\r\nexport function createComment(data) {\r\n  return post('/wx/client/comment/create', data)\r\n}\r\n\r\n// 获取评论列表\r\nexport function getCommentList(contentId, params) {\r\n  return get('/wx/client/comment/list', { contentId, ...params }, true)\r\n}\r\n\r\n// 添加收藏\r\nexport function addFavorite(contentId) {\r\n  return post('/wx/favorite/add', { contentId })\r\n}\r\n\r\n// 取消收藏\r\nexport function cancelFavorite(contentId) {\r\n  return post('/wx/favorite/cancel', { contentId })\r\n}\r\n\r\n// 获取收藏状态\r\nexport function getFavoriteStatus(contentId) {\r\n  return get('/wx/favorite/status', { contentId })\r\n}\r\n\r\n// 获取收藏列表\r\nexport function getFavoriteList(params) {\r\n  return get('/wx/favorite/list', params)\r\n}\r\n\r\n// 获取收藏数量\r\nexport function getFavoriteCount() {\r\n  return get('/wx/favorite/count')\r\n}\r\n\r\n// 添加浏览记录\r\nexport function addBrowseRecord(contentId, contentType = 'article') {\r\n  return post('/wx/client/browse-history/add', { contentId, contentType })\r\n}\r\n\r\n// 获取浏览历史列表\r\nexport function getBrowseHistoryList(params) {\r\n  return get('/wx/client/browse-history/list', params)\r\n}\r\n\r\n// 清空浏览历史\r\nexport function clearBrowseHistory(timeType = 'all') {\r\n  return post('/wx/client/browse-history/clear', { timeType })\r\n}\r\n\r\n// 获取浏览记录数量\r\nexport function getBrowseHistoryCount() {\r\n  return get('/wx/client/browse-history/count')\r\n}\r\n\r\n// 获取发布者信息\r\nexport function getPublisherInfo(publisherId) {\r\n\treturn get('/wx/publisher/info', {\r\n\t\tpublisher_id: publisherId\r\n\t}, true)\r\n}\r\n\r\n// 获取发布者关注状态\r\nexport function getPublisherFollowStatus(publisherId) {\r\n\treturn get('/wx/publisher/follow/status', {\r\n\t\tpublisher_id: publisherId\r\n\t})\r\n}\r\n\r\n// 获取我关注的发布者列表\r\nexport function getFollowingList(params) {\r\n  return get('/wx/publisher/following/list', {\r\n    page: params.page || 1,\r\n    size: params.size || 10\r\n  })\r\n}\r\n\r\n// 获取我关注的发布者数量\r\nexport function getFollowingCount() {\r\n  return get('/wx/publisher/following/count')\r\n}\r\n\r\n// 获取区域闲置列表\r\nexport function getRegionIdleList(params) {\r\n  return get('/wx/client/content/region/idle/list', ensureValidPageNumber(params), true)\r\n}\r\n\r\n// 获取套餐列表\r\nexport function getPackageList() {\r\n  return get('/wx/client/package/list', {}, true)\r\n}\r\n\r\n// 获取小程序列表\r\nexport function getMiniProgramList() {\r\n  return get('/wx/mini-program/list', {}, true)\r\n} "],"names":["get","post"],"mappings":";;AAGA,SAAS,sBAAsB,QAAQ;AACrC,MAAI,UAAU,OAAO,SAAS,QAAW;AACvC,WAAO,OAAO,KAAK,IAAI,GAAG,SAAS,OAAO,IAAI,KAAK,CAAC;AAAA,EACrD;AACD,SAAO;AACT;AAQO,SAAS,kBAAkB,OAAO,GAAG;AAC1C,SAAOA,cAAG,IAAC,iCAAiC,EAAE,KAAI,GAAI,IAAI;AAC5D;AAaO,SAAS,uBAAuB,IAAI;AACzC,SAAOA,cAAG,IAAC,oCAAoC,EAAE,GAAE,GAAI,IAAI;AAC7D;AAGO,SAAS,WAAW,MAAM;AAC/B,SAAOC,cAAI,KAAC,kCAAkC,IAAI;AACpD;AAuBY,MAAC,aAAa,CAAC,SAAS;AACnC,SAAOA,cAAAA,KAAK,wBAAwB;AAAA,IACnC,cAAc,KAAK;AAAA,EACrB,CAAE;AACF;AAGY,MAAC,eAAe,CAAC,SAAS;AACrC,SAAOA,cAAAA,KAAK,0BAA0B;AAAA,IACrC,cAAc,KAAK;AAAA,EACrB,CAAE;AACF;AAaO,SAAS,WAAW,MAAM;AAC/B,SAAOA,cAAI,KAAC,kCAAkC,IAAI;AACpD;AAGO,SAAS,qBAAqB,QAAQ;AAC3C,SAAOD,cAAG,IAAC,kCAAkC,sBAAsB,MAAM,GAAG,IAAI;AAClF;AAGO,SAAS,cAAc,MAAM;AAClC,SAAOC,cAAI,KAAC,6BAA6B,IAAI;AAC/C;AAGO,SAAS,eAAe,WAAW,QAAQ;AAChD,SAAOD,cAAAA,IAAI,2BAA2B,EAAE,WAAW,GAAG,OAAQ,GAAE,IAAI;AACtE;AAGO,SAAS,YAAY,WAAW;AACrC,SAAOC,mBAAK,oBAAoB,EAAE,WAAW;AAC/C;AAGO,SAAS,eAAe,WAAW;AACxC,SAAOA,mBAAK,uBAAuB,EAAE,WAAW;AAClD;AAGO,SAAS,kBAAkB,WAAW;AAC3C,SAAOD,kBAAI,uBAAuB,EAAE,WAAW;AACjD;AAGO,SAAS,gBAAgB,QAAQ;AACtC,SAAOA,cAAG,IAAC,qBAAqB,MAAM;AACxC;AAGO,SAAS,mBAAmB;AACjC,SAAOA,cAAAA,IAAI,oBAAoB;AACjC;AAGO,SAAS,gBAAgB,WAAW,cAAc,WAAW;AAClE,SAAOC,cAAI,KAAC,iCAAiC,EAAE,WAAW,YAAW,CAAE;AACzE;AAGO,SAAS,qBAAqB,QAAQ;AAC3C,SAAOD,cAAG,IAAC,kCAAkC,MAAM;AACrD;AAGO,SAAS,mBAAmB,WAAW,OAAO;AACnD,SAAOC,mBAAK,mCAAmC,EAAE,UAAU;AAC7D;AAGO,SAAS,wBAAwB;AACtC,SAAOD,cAAAA,IAAI,iCAAiC;AAC9C;AAGO,SAAS,iBAAiB,aAAa;AAC7C,SAAOA,cAAAA,IAAI,sBAAsB;AAAA,IAChC,cAAc;AAAA,EACd,GAAE,IAAI;AACR;AAGO,SAAS,yBAAyB,aAAa;AACrD,SAAOA,cAAAA,IAAI,+BAA+B;AAAA,IACzC,cAAc;AAAA,EAChB,CAAE;AACF;AAGO,SAAS,iBAAiB,QAAQ;AACvC,SAAOA,cAAAA,IAAI,gCAAgC;AAAA,IACzC,MAAM,OAAO,QAAQ;AAAA,IACrB,MAAM,OAAO,QAAQ;AAAA,EACzB,CAAG;AACH;AAGO,SAAS,oBAAoB;AAClC,SAAOA,cAAAA,IAAI,+BAA+B;AAC5C;AAGO,SAAS,kBAAkB,QAAQ;AACxC,SAAOA,cAAG,IAAC,uCAAuC,sBAAsB,MAAM,GAAG,IAAI;AACvF;AAGO,SAAS,iBAAiB;AAC/B,SAAOA,kBAAI,2BAA2B,CAAE,GAAE,IAAI;AAChD;AAGO,SAAS,qBAAqB;AACnC,SAAOA,kBAAI,yBAAyB,CAAE,GAAE,IAAI;AAC9C;;;;;;;;;;;;;;;;;;;;;;;;;;"}