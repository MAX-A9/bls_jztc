{"version":3,"file":"index.js","sources":["pages/my/history/index.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbXkvaGlzdG9yeS9pbmRleC52dWU"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<!-- 日期筛选 -->\n\t\t<view class=\"date-filter-container\">\n\t\t\t<view class=\"date-filter\">\n\t\t\t\t<view \n\t\t\t\t\tclass=\"date-item\" \n\t\t\t\t\tv-for=\"(item, index) in dateFilters\" \n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t:class=\"{ active: currentFilter === index }\"\n\t\t\t\t\t@tap=\"switchFilter(index)\"\n\t\t\t\t>\n\t\t\t\t\t<text class=\"date-text\">{{ item }}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"clear-btn\" @tap=\"handleClearHistory\">\n\t\t\t\t<uni-icons type=\"trash\" size=\"16\" color=\"#666666\"></uni-icons>\n\t\t\t\t<text class=\"clear-text\">清空{{ currentFilter > 0 ? dateFilters[currentFilter] : '全部' }}</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<scroll-view \n\t\t\tclass=\"content-scroll\" \n\t\t\tscroll-y \n\t\t\t:refresher-enabled=\"true\"\n\t\t\t:refresher-triggered=\"isRefreshing\"\n\t\t\t@refresherrefresh=\"onRefresh\"\n\t\t\t:show-scrollbar=\"false\"\n\t\t\t:enhanced=\"true\"\n\t\t\t:bounces=\"true\"\n\t\t\t:fast-deceleration=\"true\"\n\t\t\t@scrolltolower=\"loadMore\"\n\t\t>\n\t\t\t<!-- 加载中 -->\n\t\t\t<view class=\"loading-container\" v-if=\"loading && historyList.length === 0\">\n\t\t\t\t<view class=\"loading-indicator\"></view>\n\t\t\t\t<text class=\"loading-text\">数据加载中...</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 浏览历史列表 -->\n\t\t\t<view class=\"history-list\" v-if=\"historyList.length > 0\">\n\t\t\t\t<view class=\"date-group\" v-for=\"(group, date) in groupedHistory\" :key=\"date\">\n\t\t\t\t\t<view class=\"date-header\">\n\t\t\t\t\t\t<text class=\"date-label\">{{ date }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view \n\t\t\t\t\t\tclass=\"history-item\"\n\t\t\t\t\t\tv-for=\"(item, index) in group\"\n\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\t@tap=\"handleItemClick(item)\"\n\t\t\t\t\t\t:class=\"{ 'offline-item': item.contentStatus === 0 || item.contentStatus === 2 }\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<view class=\"offline-mask\" v-if=\"item.contentStatus === 0 || item.contentStatus === 2\">\n\t\t\t\t\t\t\t<text class=\"offline-text\">已下架</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<image \n\t\t\t\t\t\t\tclass=\"item-image\" \n\t\t\t\t\t\t\t:src=\"item.image\" \n\t\t\t\t\t\t\tmode=\"aspectFill\" \n\t\t\t\t\t\t\tv-if=\"item.image\"\n\t\t\t\t\t\t\t@error=\"handleImageError(item)\"\n\t\t\t\t\t\t></image>\n\t\t\t\t\t\t<view class=\"item-content\" :class=\"{ 'full-width': !item.image }\">\n\t\t\t\t\t\t\t<text class=\"item-title\" :class=\"{ 'offline-title': item.contentStatus === 0 || item.contentStatus === 2 }\">{{ item.title }}</text>\n\t\t\t\t\t\t\t<text class=\"item-price\" v-if=\"item.price > 0\">¥{{ item.price }}</text>\n\t\t\t\t\t\t\t<view class=\"item-footer\">\n\t\t\t\t\t\t\t\t<text class=\"item-time\">{{ item.time }}</text>\n\t\t\t\t\t\t\t\t<view class=\"item-type\" :class=\"{ 'item-type-offline': item.contentStatus === 0 || item.contentStatus === 2 }\">\n\t\t\t\t\t\t\t\t\t<text>{{ item.category }}</text>\n\t\t\t\t\t\t\t\t\t<view class=\"item-status\" v-if=\"item.contentStatus === 0 || item.contentStatus === 2\">已下架</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- 加载更多提示 -->\n\t\t\t\t<view class=\"load-more\" v-if=\"historyList.length > 0\">\n\t\t\t\t\t<view v-if=\"loading && historyList.length > 0\" class=\"loading\">\n\t\t\t\t\t\t<view class=\"loading-indicator-small\"></view>\n\t\t\t\t\t\t<text>正在加载...</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<text v-else-if=\"hasMore\">上拉加载更多</text>\n\t\t\t\t\t<text v-else>没有更多数据了</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 空状态 -->\n\t\t\t<view class=\"empty-state\" v-if=\"!loading && historyList.length === 0\">\n\t\t\t\t<image class=\"empty-image\" src=\"/static/empty/history.png\" mode=\"aspectFit\"></image>\n\t\t\t\t<text class=\"empty-text\">暂无浏览记录</text>\n\t\t\t\t<button class=\"action-btn\" @tap=\"handleExplore\">去发现</button>\n\t\t\t</view>\n\t\t</scroll-view>\n\t</view>\n</template>\n\n<script>\n\timport { getBrowseHistoryList, clearBrowseHistory } from '@/apis/content.js'\n\timport { formatTimeAgo } from '@/utils/date.js'\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcurrentFilter: 0,\n\t\t\t\tisRefreshing: false,\n\t\t\t\tdateFilters: ['全部', '今天', '昨天', '本周', '本月'],\n\t\t\t\ttimeTypeMap: {\n\t\t\t\t\t0: 'all',\n\t\t\t\t\t1: 'today',\n\t\t\t\t\t2: 'yesterday',\n\t\t\t\t\t3: 'this_week',\n\t\t\t\t\t4: 'this_month'\n\t\t\t\t},\n\t\t\t\thistoryList: [],\n\t\t\t\tpage: 1,\n\t\t\t\tpageSize: 10,\n\t\t\t\thasMore: true,\n\t\t\t\tloading: false,\n\t\t\t\ttotal: 0\n\t\t\t}\n\t\t},\n\t\tcreated() {\n\t\t\t// 加载历史记录\n\t\t\tthis.loadBrowseHistory()\n\t\t},\n\t\tcomputed: {\n\t\t\tgroupedHistory() {\n\t\t\t\t// 按日期分组\n\t\t\t\tconst grouped = {}\n\t\t\t\t\n\t\t\t\tthis.historyList.forEach(item => {\n\t\t\t\t\t// 提取日期部分作为分组键\n\t\t\t\t\tconst date = item.browseTime.split(' ')[0]\n\t\t\t\t\tif (!grouped[date]) {\n\t\t\t\t\t\tgrouped[date] = []\n\t\t\t\t\t}\n\t\t\t\t\tgrouped[date].push(item)\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\treturn grouped\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tswitchFilter(index) {\n\t\t\t\tif (this.currentFilter === index) return\n\t\t\t\tthis.currentFilter = index\n\t\t\t\tthis.page = 1\n\t\t\t\tthis.historyList = []\n\t\t\t\tthis.hasMore = true\n\t\t\t\tthis.loadBrowseHistory()\n\t\t\t},\n\t\t\t\n\t\t\t// 加载浏览历史数据\n\t\t\tasync loadBrowseHistory() {\n\t\t\t\tif (this.loading) return\n\t\t\t\t\n\t\t\t\ttry {\n\t\t\t\t\tthis.loading = true\n\t\t\t\t\t\n\t\t\t\t\tconst params = {\n\t\t\t\t\t\ttimeType: this.timeTypeMap[this.currentFilter],\n\t\t\t\t\t\tpage: this.page,\n\t\t\t\t\t\tpageSize: this.pageSize\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tconst result = await getBrowseHistoryList(params)\n\t\t\t\t\t\n\t\t\t\t\tif (result.code === 0 && result.data) {\n\t\t\t\t\t\tconst { list = [], total = 0, page = 1 } = result.data\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 格式化数据\n\t\t\t\t\t\tconst formattedList = list.map(item => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tid: item.id,\n\t\t\t\t\t\t\t\tcontentId: item.contentId,\n\t\t\t\t\t\t\t\ttitle: item.contentTitle || '未知标题',\n\t\t\t\t\t\t\t\timage: item.contentCover || '',\n\t\t\t\t\t\t\t\tprice: item.price || 0,\n\t\t\t\t\t\t\t\tcontentType: item.contentType,\n\t\t\t\t\t\t\t\tbrowseTime: item.browseTime,\n\t\t\t\t\t\t\t\ttime: item.browseTime.split(' ')[1],\n\t\t\t\t\t\t\t\tcategory: item.category || '未分类',\n\t\t\t\t\t\t\t\tcontentStatus: item.contentStatus\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 第一页直接替换，之后追加\n\t\t\t\t\t\tif (this.page === 1) {\n\t\t\t\t\t\t\tthis.historyList = formattedList\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.historyList = [...this.historyList, ...formattedList]\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.total = total\n\t\t\t\t\t\tthis.hasMore = this.historyList.length < total\n\t\t\t\t\t\tthis.page++\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error(result.message || '获取浏览历史失败')\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('加载浏览历史失败:', error)\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '加载失败，请重试',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t})\n\t\t\t\t} finally {\n\t\t\t\t\tthis.loading = false\n\t\t\t\t\tif (this.isRefreshing) {\n\t\t\t\t\t\tthis.isRefreshing = false\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tasync onRefresh() {\n\t\t\t\tthis.isRefreshing = true\n\t\t\t\tthis.page = 1\n\t\t\t\tthis.hasMore = true\n\t\t\t\tawait this.loadBrowseHistory()\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '刷新成功',\n\t\t\t\t\ticon: 'success'\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\thandleItemClick(item) {\n\t\t\t\t// 已下架内容不进行跳转，显示提示信息\n\t\t\t\tif (item.contentStatus === 0 || item.contentStatus === 2) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '该内容已下架',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 根据不同内容类型跳转到不同页面\n\t\t\t\tlet url = ''\n\t\t\t\tswitch (item.contentType) {\n\t\t\t\t\tcase 'idle':\n\t\t\t\t\t\turl = `/pages/community/detail?id=${item.contentId}`\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'article':\n\t\t\t\t\tcase 'info':\n\t\t\t\t\tdefault:\n\t\t\t\t\t\turl = `/pages/content/detail?id=${item.contentId}`\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tuni.navigateTo({ url })\n\t\t\t},\n\t\t\t\n\t\t\tasync handleClearHistory() {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '提示',\n\t\t\t\t\tcontent: '确定要清空浏览记录吗？',\n\t\t\t\t\tsuccess: async (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t// 获取当前筛选类型\n\t\t\t\t\t\t\t\tconst timeType = this.timeTypeMap[this.currentFilter];\n\t\t\t\t\t\t\t\t// 调用清空接口，传递当前时间筛选类型\n\t\t\t\t\t\t\t\tconst result = await clearBrowseHistory(timeType);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif (result.code === 0) {\n\t\t\t\t\t\t\t\t\tthis.historyList = [];\n\t\t\t\t\t\t\t\t\tthis.page = 1;\n\t\t\t\t\t\t\t\t\tthis.hasMore = false;\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: '已清空记录',\n\t\t\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthrow new Error(result.message || '清空失败');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\tconsole.error('清空浏览记录失败:', error);\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '清空失败，请重试',\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\thandleExplore() {\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/index/index'\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// 加载更多\n\t\t\tloadMore() {\n\t\t\t\tif (this.hasMore && !this.loading) {\n\t\t\t\t\tthis.loadBrowseHistory()\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\thandleImageError(item) {\n\t\t\t\t// 图片加载错误时使用空字符串，让布局自动调整\n\t\t\t\titem.image = '';\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.container {\n\t\tmin-height: 100vh;\n\t\tbackground-color: #f5f5f5;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\theight: 100vh;\n\t\toverflow: hidden;\n\t\twill-change: transform;\n\t}\n\t\n\t.date-filter-container {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 20rpx 30rpx;\n\t\tbackground-color: #ffffff;\n\t\tborder-bottom: 1rpx solid #f0f0f0;\n\t\tposition: sticky;\n\t\ttop: 0;\n\t\tz-index: 100;\n\t}\n\t\n\t.date-filter {\n\t\tdisplay: flex;\n\t\tbackground-color: #f5f5f5;\n\t\tborder-radius: 32rpx;\n\t\tpadding: 4rpx;\n\t}\n\t\n\t.date-item {\n\t\tpadding: 10rpx 20rpx;\n\t\tborder-radius: 28rpx;\n\t\ttransition: all 0.3s;\n\t\tposition: relative;\n\t}\n\t\n\t.date-item.active {\n\t\tbackground-color: #ffffff;\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.1);\n\t}\n\t\n\t.date-text {\n\t\tfont-size: 24rpx;\n\t\tcolor: #666666;\n\t}\n\t\n\t.date-item.active .date-text {\n\t\tcolor: #fc3e2b;\n\t\tfont-weight: 500;\n\t}\n\t\n\t.clear-btn {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 8rpx 16rpx;\n\t\tbackground-color: #f5f5f5;\n\t\tborder-radius: 24rpx;\n\t\ttransition: all 0.3s;\n\t}\n\t\n\t.clear-btn:active {\n\t\ttransform: scale(0.95);\n\t\topacity: 0.9;\n\t}\n\t\n\t.clear-text {\n\t\tfont-size: 24rpx;\n\t\tcolor: #666666;\n\t\tmargin-left: 4rpx;\n\t}\n\t\n\t.content-scroll {\n\t\tflex: 1;\n\t\theight: 0;\n\t\tbox-sizing: border-box;\n\t\t-webkit-overflow-scrolling: touch;\n\t}\n\t\n\t.history-list {\n\t\tpadding: 20rpx;\n\t\ttransform: translateZ(0);\n\t}\n\t\n\t.date-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 20rpx 0 16rpx;\n\t}\n\t\n\t.date-header::before, \n\t.date-header::after {\n\t\tcontent: '';\n\t\tflex: 1;\n\t\theight: 1px;\n\t\tbackground-color: #f0f0f0;\n\t}\n\t\n\t.date-header::before {\n\t\tmargin-right: 20rpx;\n\t}\n\t\n\t.date-header::after {\n\t\tmargin-left: 20rpx;\n\t}\n\t\n\t.date-label {\n\t\tfont-size: 28rpx;\n\t\tcolor: #666666;\n\t\tfont-weight: 500;\n\t\twhite-space: nowrap;\n\t}\n\t\n\t.history-item {\n\t\tdisplay: flex;\n\t\tbackground-color: #ffffff;\n\t\tborder-radius: 12rpx;\n\tpadding: 20rpx;\n\tmargin-bottom: 20rpx;\n\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.04);\n\twill-change: transform;\n\tposition: relative;\n\ttransition: all 0.3s;\n\toverflow: hidden;\n}\n\n.history-item:active {\n\ttransform: scale(0.98);\n\topacity: 0.9;\n}\n\n/* 已下架商品样式 */\n.offline-item {\n\tbackground-color: #f9f9f9;\n}\n\n.offline-mask {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: rgba(0, 0, 0, 0.03);\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tz-index: 1;\n\tpointer-events: none;\n}\n\n.offline-text {\n\tfont-size: 32rpx;\n\tcolor: rgba(153, 153, 153, 0.8);\n\ttransform: rotate(-15deg);\n\tfont-weight: bold;\n\tborder: 2rpx solid rgba(153, 153, 153, 0.3);\n\tpadding: 8rpx 30rpx;\n\tborder-radius: 8rpx;\n\tbackground-color: rgba(255, 255, 255, 0.8);\n}\n\n.offline-title {\n\tcolor: #999999;\n}\n\n.item-image {\n\twidth: 160rpx;\n\theight: 160rpx;\n\tborder-radius: 8rpx;\n\tmargin-right: 20rpx;\n\tbackground-color: #f5f5f5;\n\tposition: relative;\n\tz-index: 0;\n}\n\n.item-content {\n\tflex: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n\tz-index: 0;\n}\n\n.item-content.full-width {\n\twidth: 100%;\n}\n\n.item-title {\n\tfont-size: 28rpx;\n\tcolor: #333333;\n\tmargin-bottom: 16rpx;\n\tline-height: 1.4;\n\tdisplay: -webkit-box;\n\t-webkit-box-orient: vertical;\n\t-webkit-line-clamp: 2;\n\tline-clamp: 2; /* 标准属性，提高兼容性 */\n\toverflow: hidden;\n\ttransition: color 0.3s;\n}\n\n.item-price {\n\tfont-size: 32rpx;\n\tcolor: #fc3e2b;\n\tfont-weight: 500;\n\tmargin-bottom: 16rpx;\n}\n\n.item-footer {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-top: auto;\n}\n\n.item-time {\n\tfont-size: 24rpx;\n\tcolor: #999999;\n}\n\n.item-type {\n\tfont-size: 24rpx;\n\tcolor: #666666;\n\tbackground-color: #f5f5f5;\n\tpadding: 4rpx 12rpx;\n\tborder-radius: 20rpx;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.item-type-offline {\n\tbackground-color: #f0f0f0;\n\tcolor: #999999;\n}\n\n.item-status {\n\tfont-size: 22rpx;\n\tcolor: #ff6b6b;\n\tmargin-left: 10rpx;\n\tbackground-color: rgba(255, 107, 107, 0.1);\n\tpadding: 2rpx 8rpx;\n\tborder-radius: 16rpx;\n}\n\n.empty-state {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding-top: 200rpx;\n}\n\n.empty-image {\n\twidth: 240rpx;\n\theight: 240rpx;\n\tmargin-bottom: 30rpx;\n}\n\n.empty-text {\n\tfont-size: 30rpx;\n\tcolor: #999999;\n\tmargin-bottom: 40rpx;\n}\n\n.action-btn {\n\twidth: 240rpx;\n\theight: 80rpx;\n\tbackground: linear-gradient(90deg, #ff7c4d, #fc3e2b);\n\tcolor: #ffffff;\n\tfont-size: 28rpx;\n\tborder-radius: 40rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tbox-shadow: 0 4rpx 12rpx rgba(252, 62, 43, 0.2);\n}\n\n.loading-container {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 200rpx 0;\n}\n\n.loading-indicator {\n\twidth: 48rpx;\n\theight: 48rpx;\n\tborder: 4rpx solid #fc3e2b;\n\tborder-radius: 50%;\n\tborder-top-color: transparent;\n\tanimation: spin 0.75s linear infinite;\n\tmargin-bottom: 20rpx;\n}\n\n.loading-text {\n\tfont-size: 28rpx;\n\tcolor: #666666;\n}\n\n.load-more {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tpadding: 20rpx 0;\n\tcolor: #999999;\n\tfont-size: 26rpx;\n\tmargin-top: 10rpx;\n}\n\n.loading {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\theight: 60rpx;\n}\n\n.loading-indicator-small {\n\twidth: 24rpx;\n\theight: 24rpx;\n\tborder: 2rpx solid #fc3e2b;\n\tborder-radius: 50%;\n\tborder-top-color: transparent;\n\tanimation: spin 0.75s linear infinite;\n\tmargin-right: 12rpx;\n}\n\n@keyframes spin {\n\t0% {\n\t\ttransform: rotate(0deg);\n\t}\n\t100% {\n\t\ttransform: rotate(360deg);\n\t}\n}\n</style> ","import MiniProgramPage from 'E:/Myxiangmu/chonggou/juzitongcheng/pages/my/history/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["getBrowseHistoryList","uni","clearBrowseHistory"],"mappings":"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"}