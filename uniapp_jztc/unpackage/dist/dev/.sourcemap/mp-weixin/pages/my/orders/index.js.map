{"version":3,"file":"index.js","sources":["pages/my/orders/index.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbXkvb3JkZXJzL2luZGV4LnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<!-- 自定义导航栏 -->\n\t\t<view class=\"nav-bar\" :style=\"{ paddingTop: statusBarHeight + 'px' }\">\n\t\t\t<view class=\"nav-content\" :style=\"{ height: navBarHeight + 'px' }\">\n\t\t\t\t<view class=\"back-btn\" @tap=\"handleBack\">\n\t\t\t\t\t<uni-icons type=\"left\" size=\"20\" color=\"#333333\"></uni-icons>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"nav-title\">我的订单</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 订单状态选项卡 -->\n\t\t\t<view class=\"tab-bar\">\n\t\t\t\t<view \n\t\t\t\t\tclass=\"tab-item\" \n\t\t\t\t\tv-for=\"(item, index) in tabList\" \n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t:class=\"{ active: currentTab === index }\"\n\t\t\t\t\t@tap=\"switchTab(index)\"\n\t\t\t\t>\n\t\t\t\t\t<text class=\"tab-text\">{{ item.name }}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 订单列表 -->\n\t\t<scroll-view \n\t\t\tclass=\"order-scroll\" \n\t\t\tscroll-y \n\t\t\t:style=\"{ top: `calc(${statusBarHeight}px + ${navBarHeight}px + 80rpx)` }\"\n\t\t\t:refresher-enabled=\"true\"\n\t\t\t:refresher-triggered=\"isRefreshing\"\n\t\t\t@refresherrefresh=\"onRefresh\"\n\t\t\t@scrolltolower=\"loadMore\"\n\t\t>\n\t\t\t<view class=\"order-list\">\n\t\t\t\t<view \n\t\t\t\t\tclass=\"order-item\"\n\t\t\t\t\tv-for=\"item in orderList\"\n\t\t\t\t\t:key=\"item.id\"\n\t\t\t\t\t@tap=\"handleOrderClick(item)\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"order-header\">\n\t\t\t\t\t\t<text class=\"order-time\">{{ item.createdAt }}</text>\n\t\t\t\t\t\t<text class=\"order-status\" :class=\"getStatusClass(item.status)\">{{ item.statusText }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"order-content\">\n\t\t\t\t\t\t<view class=\"order-icon\">\n\t\t\t\t\t\t\t<uni-icons type=\"shop\" size=\"30\" color=\"#fc3e2b\"></uni-icons>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"order-info\">\n\t\t\t\t\t\t\t<text class=\"order-title\">{{ item.productName }}</text>\n\t\t\t\t\t\t\t<text class=\"order-no\">订单号：{{ item.orderNo }}</text>\n\t\t\t\t\t\t\t<view class=\"price-row\">\n\t\t\t\t\t\t\t\t<text class=\"price-label\">实付款</text>\n\t\t\t\t\t\t\t\t<text class=\"price-value\">¥{{ item.amount.toFixed(2) }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"order-footer\">\n\t\t\t\t\t\t<view class=\"btn-group\">\n\t\t\t\t\t\t\t<block v-if=\"item.status === 0\">\n\t\t\t\t\t\t\t\t<view class=\"order-btn\" @tap.stop=\"handleCancelOrder(item)\">\n\t\t\t\t\t\t\t\t\t<text>取消订单</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"order-btn primary\" @tap.stop=\"handlePayOrder(item)\">\n\t\t\t\t\t\t\t\t\t<text>立即支付</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t<block v-else-if=\"item.status === 1\">\n\t\t\t\t\t\t\t\t<view class=\"order-btn\" @tap.stop=\"handleContactService(item)\">\n\t\t\t\t\t\t\t\t\t<text>联系客服</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t<block v-else-if=\"item.status === 2 || item.status === 3\">\n\t\t\t\t\t\t\t\t<view class=\"order-btn primary\" @tap.stop=\"handleRebuyOrder(item)\">\n\t\t\t\t\t\t\t\t\t<text>再次购买</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 加载更多 -->\n\t\t\t<view class=\"loading-more\" v-if=\"orderList.length > 0 && hasMore\">\n\t\t\t\t<text class=\"loading-text\">加载中...</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 没有更多数据 -->\n\t\t\t<view class=\"no-more\" v-if=\"orderList.length > 0 && !hasMore\">\n\t\t\t\t<text class=\"no-more-text\">没有更多数据了</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 空状态 -->\n\t\t\t<view class=\"empty-state\" v-if=\"orderList.length === 0 && !isLoading\">\n\t\t\t\t<image class=\"empty-image\" src=\"/static/images/empty.png\" mode=\"aspectFit\"></image>\n\t\t\t\t<text class=\"empty-text\">暂无相关订单</text>\n\t\t\t</view>\n\t\t</scroll-view>\n\t</view>\n</template>\n\n<script>\n\timport deviceMixin from '@/mixins/device.js'\n\timport { user } from '@/apis/index.js'\n\timport { requestOrderPay } from '@/utils/pay.js'\n\t\n\texport default {\n\t\tmixins: [deviceMixin],\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcurrentTab: 0,\n\t\t\t\tisRefreshing: false,\n\t\t\t\tisLoading: false,\n\t\t\t\thasMore: true,\n\t\t\t\tpage: 1,\n\t\t\t\tpageSize: 10,\n\t\t\t\ttotal: 0,\n\t\t\t\ttabList: [\n\t\t\t\t\t{ name: '全部', status: 'all' },\n\t\t\t\t\t{ name: '进行中', status: 'process' },\n\t\t\t\t\t{ name: '待支付', status: 'unpaid' },\n\t\t\t\t\t{ name: '已完成', status: 'completed' }\n\t\t\t\t],\n\t\t\t\torderList: []\n\t\t\t}\n\t\t},\n\t\tonLoad(options) {\n\t\t\tif (options.tab) {\n\t\t\t\tthis.currentTab = parseInt(options.tab)\n\t\t\t}\n\t\t\t\n\t\t\t// 获取订单列表\n\t\t\tthis.loadOrderList()\n\t\t},\n\t\tmethods: {\n\t\t\t// 获取订单列表\n\t\t\tasync loadOrderList(isRefresh = false) {\n\t\t\t\tif (this.isLoading) return\n\t\t\t\t\n\t\t\t\t// 标记加载状态\n\t\t\t\tlet loadingShown = false;\n\t\t\t\t\n\t\t\t\ttry {\n\t\t\t\t\tthis.isLoading = true\n\t\t\t\t\t\n\t\t\t\t\t// 如果不是下拉刷新，则显示加载提示\n\t\t\t\t\tif (!isRefresh) {\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\ttitle: '加载中...',\n\t\t\t\t\t\t\tmask: true\n\t\t\t\t\t\t});\n\t\t\t\t\t\tloadingShown = true;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 如果是刷新，重置页码\n\t\t\t\t\tif (isRefresh) {\n\t\t\t\t\t\tthis.page = 1\n\t\t\t\t\t\tthis.orderList = []\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 获取当前选择的状态\n\t\t\t\t\tconst status = this.tabList[this.currentTab].status\n\t\t\t\t\t\n\t\t\t\t\t// 调用接口获取订单列表\n\t\t\t\t\tconst res = await user.getOrderList({\n\t\t\t\t\t\tpage: this.page,\n\t\t\t\t\t\tpageSize: this.pageSize,\n\t\t\t\t\t\tstatus: status\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\t// 关闭加载提示\n\t\t\t\t\tif (loadingShown) {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tloadingShown = false;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (res.code === 0 && res.data) {\n\t\t\t\t\t\t// 如果是第一页，直接替换数据\n\t\t\t\t\t\tif (this.page === 1) {\n\t\t\t\t\t\t\tthis.orderList = res.data.list || []\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// 否则追加数据\n\t\t\t\t\t\t\tthis.orderList = [...this.orderList, ...(res.data.list || [])]\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 更新总数\n\t\t\t\t\t\tthis.total = res.data.total || 0\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 判断是否还有更多数据\n\t\t\t\t\t\tthis.hasMore = this.orderList.length < this.total\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error(res.message || '获取订单列表失败')\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\t// 确保异常情况下也关闭加载提示\n\t\t\t\t\tif (loadingShown) {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tloadingShown = false;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tconsole.error('获取订单列表失败:', error)\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '获取订单失败',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t} finally {\n\t\t\t\t\tthis.isLoading = false\n\t\t\t\t\t\n\t\t\t\t\t// 如果是下拉刷新，结束刷新状态\n\t\t\t\t\tif (this.isRefreshing) {\n\t\t\t\t\t\tthis.isRefreshing = false\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 最后确保关闭加载提示\n\t\t\t\t\tif (loadingShown) {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 根据订单状态获取CSS类名\n\t\t\tgetStatusClass(status) {\n\t\t\t\tswitch (status) {\n\t\t\t\t\tcase 0: return 'unpaid'\n\t\t\t\t\tcase 1: return 'processing'\n\t\t\t\t\tcase 2: return 'completed'\n\t\t\t\t\tcase 3: return 'cancelled'\n\t\t\t\t\tcase 4: return 'refunded'\n\t\t\t\t\tdefault: return ''\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 返回上一页\n\t\t\thandleBack() {\n\t\t\t\t// 获取当前页面栈\n\t\t\t\tconst pages = getCurrentPages();\n\t\t\t\t// 如果当前页面不是第一个页面，才可以返回\n\t\t\t\tif (pages.length > 1) {\n\t\t\t\t\tuni.navigateBack();\n\t\t\t\t} else {\n\t\t\t\t\t// 如果是第一个页面，则跳转到个人中心页\n\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\turl: '/pages/my/index'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 切换选项卡\n\t\t\tswitchTab(index) {\n\t\t\t\tif (this.currentTab === index) return\n\t\t\t\tthis.currentTab = index\n\t\t\t\tthis.page = 1\n\t\t\t\tthis.hasMore = true\n\t\t\t\tthis.loadOrderList(true)\n\t\t\t},\n\t\t\t\n\t\t\t// 下拉刷新\n\t\t\tonRefresh() {\n\t\t\t\tthis.isRefreshing = true\n\t\t\t\tthis.page = 1\n\t\t\t\tthis.hasMore = true\n\t\t\t\tthis.loadOrderList(true)\n\t\t\t},\n\t\t\t\n\t\t\t// 加载更多\n\t\t\tloadMore() {\n\t\t\t\tif (!this.hasMore || this.isLoading) return\n\t\t\t\tthis.page++\n\t\t\t\tthis.loadOrderList()\n\t\t\t},\n\t\t\t\n\t\t\t// 点击订单\n\t\t\thandleOrderClick(order) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/pages/my/orders/detail?orderNo=${order.orderNo}`\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// 联系客服\n\t\t\thandleContactService(order) {\n\t\t\t\tuni.makePhoneCall({\n\t\t\t\t\tphoneNumber: '10086',\n\t\t\t\t\tfail: () => {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '拨打电话失败',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// 取消订单\n\t\t\thandleCancelOrder(order) {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '提示',\n\t\t\t\t\tcontent: '确定要取消该订单吗？',\n\t\t\t\t\tsuccess: async (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t// 标记加载状态\n\t\t\t\t\t\t\tlet loadingShown = false;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t// 显示加载提示\n\t\t\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\t\t\ttitle: '处理中...',\n\t\t\t\t\t\t\t\t\tmask: true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tloadingShown = true;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// 调用取消订单接口\n\t\t\t\t\t\t\t\tawait user.cancelOrder({ \n\t\t\t\t\t\t\t\t\torderNo: order.orderNo,\n\t\t\t\t\t\t\t\t\treason: '用户主动取消'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// 请求成功后关闭加载提示\n\t\t\t\t\t\t\t\tif (loadingShown) {\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\tloadingShown = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '已取消订单',\n\t\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// 刷新订单列表\n\t\t\t\t\t\t\t\tthis.onRefresh()\n\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\t// 确保异常情况下也关闭加载提示\n\t\t\t\t\t\t\t\tif (loadingShown) {\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\tloadingShown = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tconsole.error('取消订单失败:', error)\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: error.message || '取消失败',\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\t// 最后确保关闭加载提示\n\t\t\t\t\t\t\t\tif (loadingShown) {\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// 支付订单\n\t\t\tasync handlePayOrder(order) {\n\t\t\t\t// 标记加载状态\n\t\t\t\tlet loadingShown = false;\n\t\t\t\t\n\t\t\t\ttry {\n\t\t\t\t\t// 显示加载提示\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: '正在支付...',\n\t\t\t\t\t\tmask: true // 使用蒙层防止用户点击\n\t\t\t\t\t});\n\t\t\t\t\tloadingShown = true;\n\t\t\t\t\t\n\t\t\t\t\t// 调用订单支付接口\n\t\t\t\t\tconst payResult = await requestOrderPay({\n\t\t\t\t\t\torderNo: order.orderNo\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\t// 请求成功后关闭加载提示\n\t\t\t\t\tif (loadingShown) {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tloadingShown = false;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (payResult.success) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '支付成功',\n\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 刷新订单列表\n\t\t\t\t\t\tthis.onRefresh()\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: payResult.message || '支付已取消',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\t// 确保异常情况下也关闭加载提示\n\t\t\t\t\tif (loadingShown) {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tloadingShown = false;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tconsole.error('支付过程出错:', error)\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: error.message || '支付失败',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t} finally {\n\t\t\t\t\t// 最后确保关闭加载提示\n\t\t\t\t\tif (loadingShown) {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 再次购买\n\t\t\thandleRebuyOrder(order) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/publish/info/index'\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.container {\n\t\tmin-height: 100vh;\n\t\tbackground-color: #f5f5f5;\n\t\tposition: relative;\n\t}\n\t\n\t.nav-bar {\n\t\tbackground-color: #ffffff;\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tz-index: 99;\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.04);\n\t}\n\t\n\t.nav-content {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tposition: relative;\n\t}\n\t\n\t.back-btn {\n\t\twidth: 88rpx;\n\t\theight: 100%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tmargin-left: 7px;\n\t}\n\t\n\t.nav-title {\n\t\tposition: absolute;\n\t\tleft: 50%;\n\t\ttransform: translateX(-50%);\n\t\tfont-size: 34rpx;\n\t\tfont-weight: 500;\n\t\tcolor: #333333;\n\t\tmax-width: 350rpx;\n\t\ttext-align: center;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t}\n\t\n\t.tab-bar {\n\t\tdisplay: flex;\n\t\tbackground-color: #ffffff;\n\t\tborder-bottom: 1rpx solid #f5f5f5;\n\t\theight: 80rpx;\n\t\twidth: 100%;\n\t}\n\t\n\t.tab-item {\n\t\tflex: 1;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tposition: relative;\n\t}\n\t\n\t.tab-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #666666;\n\t\tpadding: 0 20rpx;\n\t}\n\t\n\t.tab-item.active .tab-text {\n\t\tcolor: #fc3e2b;\n\t\tfont-weight: 500;\n\t}\n\t\n\t.tab-item.active::after {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 50%;\n\t\ttransform: translateX(-50%);\n\t\twidth: 40rpx;\n\t\theight: 4rpx;\n\t\tbackground-color: #fc3e2b;\n\t\tborder-radius: 2rpx;\n\t}\n\t\n\t.order-scroll {\n\t\tposition: fixed;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground-color: #f5f5f5;\n\t\tz-index: 1;\n\t\toverflow-y: auto;\n\t\t-webkit-overflow-scrolling: touch;\n\t\theight: calc(100vh - var(--status-bar-height) - var(--nav-bar-height) - 80rpx);\n\t}\n\t\n\t.order-list {\n\t\tpadding: 10rpx;\n\t\tmin-height: calc(100vh - var(--status-bar-height) - var(--nav-bar-height) - 80rpx - 10rpx);\n\t\tbox-sizing: border-box;\n\t\tpadding-bottom: calc(env(safe-area-inset-bottom) + 30rpx);\n\t}\n\t\n\t.order-item {\n\t\tbackground-color: #ffffff;\n\t\tborder-radius: 16rpx;\n\t\tmargin-bottom: 12rpx;\n\t\tpadding: 20rpx;\n\t}\n\t\n\t.order-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 20rpx;\n\t}\n\t\n\t.order-time {\n\t\tfont-size: 26rpx;\n\t\tcolor: #999999;\n\t}\n\t\n\t.order-status {\n\t\tfont-size: 26rpx;\n\t}\n\t\n\t.order-status.processing {\n\t\tcolor: #409eff;\n\t}\n\t\n\t.order-status.unpaid {\n\t\tcolor: #fc3e2b;\n\t}\n\t\n\t.order-status.completed {\n\t\tcolor: #67c23a;\n\t}\n\t\n\t.order-status.cancelled {\n\t\tcolor: #909399;\n\t}\n\t\n\t.order-status.refunded {\n\t\tcolor: #e6a23c;\n\t}\n\t\n\t.order-content {\n\t\tdisplay: flex;\n\t\tmargin-bottom: 20rpx;\n\t}\n\t\n\t.order-icon {\n\t\twidth: 160rpx;\n\t\theight: 160rpx;\n\t\tborder-radius: 8rpx;\n\t\tmargin-right: 20rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tbackground-color: #f8f8f8;\n\t}\n\t\n\t.order-info {\n\t\tflex: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\t\n\t.order-title {\n\t\tfont-size: 28rpx;\n\t\tcolor: #333333;\n\t\tfont-weight: 500;\n\t\tmargin-bottom: 8rpx;\n\t}\n\t\n\t.order-no {\n\t\tfont-size: 26rpx;\n\t\tcolor: #666666;\n\t\tmargin-bottom: 16rpx;\n\t}\n\t\n\t.price-row {\n\t\tdisplay: flex;\n\t\talign-items: baseline;\n\t\tmargin-top: auto;\n\t}\n\t\n\t.price-label {\n\t\tfont-size: 26rpx;\n\t\tcolor: #999999;\n\t\tmargin-right: 8rpx;\n\t}\n\t\n\t.price-value {\n\t\tfont-size: 32rpx;\n\t\tcolor: #333333;\n\t\tfont-weight: 500;\n\t}\n\t\n\t.order-footer {\n\t\tborder-top: 1rpx solid #f5f5f5;\n\t\tpadding-top: 20rpx;\n\t}\n\t\n\t.btn-group {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\tgap: 20rpx;\n\t}\n\t\n\t.order-btn {\n\t\tpadding: 12rpx 24rpx;\n\t\tborder-radius: 32rpx;\n\t\tborder: 1rpx solid #dddddd;\n\t}\n\t\n\t.order-btn text {\n\t\tfont-size: 26rpx;\n\t\tcolor: #666666;\n\t}\n\t\n\t.order-btn.primary {\n\t\tbackground-color: #fc3e2b;\n\t\tborder-color: #fc3e2b;\n\t}\n\t\n\t.order-btn.primary text {\n\t\tcolor: #ffffff;\n\t}\n\t\n\t.loading-more, .no-more {\n\t\ttext-align: center;\n\t\tpadding: 30rpx 0;\n\t}\n\t\n\t.loading-text, .no-more-text {\n\t\tfont-size: 26rpx;\n\t\tcolor: #999999;\n\t}\n\t\n\t.empty-state {\n\t\tmin-height: calc(100vh - var(--status-bar-height) - var(--nav-bar-height) - 80rpx - 200rpx);\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding-top: 100rpx;\n\t}\n\t\n\t.empty-image {\n\t\twidth: 200rpx;\n\t\theight: 200rpx;\n\t\tmargin-bottom: 20rpx;\n\t}\n\t\n\t.empty-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #999999;\n\t}\n</style> ","import MiniProgramPage from 'E:/Myxiangmu/chonggou/juzitongcheng/pages/my/orders/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["deviceMixin","uni","user","requestOrderPay"],"mappings":"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"}