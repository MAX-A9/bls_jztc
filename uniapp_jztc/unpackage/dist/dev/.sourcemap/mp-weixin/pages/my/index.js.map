{"version":3,"file":"index.js","sources":["pages/my/index.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbXkvaW5kZXgudnVl"],"sourcesContent":["<template>\n\t<view class=\"my-container\">\n\t\t<!-- 顶部用户信息区域 -->\n\t\t<view class=\"gradient-bg\">\n\t\t\t<!-- 自定义状态栏 -->\n\t\t\t<view class=\"status-bar\" :style=\"{ height: statusBarHeight + 'px' }\"></view>\n\t\t\t\n\t\t\t<!-- 自定义导航栏 -->\n\t\t\t<view class=\"nav-bar\" :style=\"{ height: navBarHeight + 'px' }\">\n\t\t\t\t<view class=\"nav-left\">\n\t\t\t\t\t<view class=\"setting-btn\" @click=\"handleSetting\">\n\t\t\t\t\t\t<uni-icons type=\"gear\" size=\"24\" color=\"#ffffff\"></uni-icons>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"nav-title\">我的</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"user-header\">\n\t\t\t\t<view class=\"user-info\" @click=\"handleUserInfoClick\">\n\t\t\t\t\t<image \n\t\t\t\t\t\tclass=\"avatar\" \n\t\t\t\t\t\t:src=\"userInfo.avatarUrl || '/static/demo/0.png'\" \n\t\t\t\t\t\tmode=\"aspectFill\"\n\t\t\t\t\t></image>\n\t\t\t\t\t<view class=\"user-detail\">\n\t\t\t\t\t\t<text class=\"nickname white\">{{ userInfo.realName || userInfo.nickName || '未登录' }}</text>\n\t\t\t\t\t\t<text class=\"phone white-light\">{{ userInfo.phone || (hasLogin ? '绑定手机号' : '点击登录') }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"sign-btn\" @click=\"hasLogin ? handleSignIn() : handleLogin()\">\n\t\t\t\t\t<uni-icons :type=\"hasLogin ? 'gift' : 'person'\" size=\"16\" color=\"#ffffff\"></uni-icons>\n\t\t\t\t\t<text class=\"sign-text\">{{ hasLogin ? '签到领福利' : '立即登录' }}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 功能入口区域 -->\n\t\t\t<view class=\"feature-wrapper\">\n\t\t\t\t<view class=\"feature-bar\">\n\t\t\t\t\t<view class=\"feature-item\" @tap=\"handleFeatureClick('publish')\">\n\t\t\t\t\t\t<text class=\"feature-num\">{{ publishCount }}</text>\n\t\t\t\t\t\t<text class=\"feature-name\">我的发布</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"feature-item\" @tap=\"handleFeatureClick('follow')\">\n\t\t\t\t\t\t<text class=\"feature-num\">{{ followingCount }}</text>\n\t\t\t\t\t\t<text class=\"feature-name\">我的关注</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"feature-item\" @tap=\"handleFeatureClick('favorite')\">\n\t\t\t\t\t\t<text class=\"feature-num\">{{ favoriteCount }}</text>\n\t\t\t\t\t\t<text class=\"feature-name\">我的收藏</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"feature-item\" @tap=\"handleFeatureClick('history')\">\n\t\t\t\t\t\t<text class=\"feature-num\">{{ browseHistoryCount }}</text>\n\t\t\t\t\t\t<text class=\"feature-name\">浏览记录</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 内容卡片区域 -->\n\t\t<view class=\"content-card\">\n\t\t\t<!-- 订单区域 -->\n\t\t\t<view class=\"card\">\n\t\t\t\t<view class=\"order-section\">\n\t\t\t\t\t<view class=\"section-header\">\n\t\t\t\t\t\t<text class=\"section-title\">我的订单</text>\n\t\t\t\t\t\t<view class=\"more-btn\" @tap=\"handleViewAllOrders\">\n\t\t\t\t\t\t\t<text class=\"more-text\">全部订单</text>\n\t\t\t\t\t\t\t<uni-icons type=\"right\" size=\"14\" color=\"#999999\"></uni-icons>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"order-types\">\n\t\t\t\t\t\t<view class=\"order-type-item\" @tap=\"handleOrderType('processing')\">\n\t\t\t\t\t\t\t<uni-icons type=\"refresh\" size=\"28\" color=\"#fc3e2b\"></uni-icons>\n\t\t\t\t\t\t\t<text class=\"type-name\">进行中</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"order-type-item\" @tap=\"handleOrderType('unpaid')\">\n\t\t\t\t\t\t\t<uni-icons type=\"wallet\" size=\"28\" color=\"#fc3e2b\"></uni-icons>\n\t\t\t\t\t\t\t<text class=\"type-name\">待支付</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"order-type-item\" @tap=\"handleOrderType('completed')\">\n\t\t\t\t\t\t\t<uni-icons type=\"checkbox-filled\" size=\"28\" color=\"#fc3e2b\"></uni-icons>\n\t\t\t\t\t\t\t<text class=\"type-name\">已完成</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"order-type-item\" @tap=\"handleOrderType('all')\">\n\t\t\t\t\t\t\t<uni-icons type=\"list\" size=\"28\" color=\"#fc3e2b\"></uni-icons>\n\t\t\t\t\t\t\t<text class=\"type-name\">全部</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 专属管家卡片 -->\n\t\t\t<view class=\"card manager-card\" @tap=\"showQrCode\">\n\t\t\t\t<view class=\"manager-content\">\n\t\t\t\t\t<text class=\"manager-text\">添加专属管家、进专属社群</text>\n\t\t\t\t\t<uni-icons type=\"right\" size=\"16\" color=\"#999999\"></uni-icons>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 常用功能卡片 -->\n\t\t\t<view class=\"card function-card\">\n\t\t\t\t<view class=\"order-section\">\n\t\t\t\t\t<view class=\"section-header\">\n\t\t\t\t\t\t<text class=\"section-title\">常用功能</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"function-grid\">\n\t\t\t\t\t\t<!-- 注释掉师傅入驻\n\t\t\t\t\t\t<view class=\"function-item\" @tap=\"handleMasterJoin\">\n\t\t\t\t\t\t\t<uni-icons type=\"person\" size=\"28\" color=\"#fc3e2b\" custom-prefix=\"custom\"></uni-icons>\n\t\t\t\t\t\t\t<text class=\"function-name\">师傅入驻</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t-->\n\t\t\t\t\t\t<!-- 注释掉费用补缴\n\t\t\t\t\t\t<view class=\"function-item\">\n\t\t\t\t\t\t\t<uni-icons type=\"wallet\" size=\"28\" color=\"#fc3e2b\" custom-prefix=\"custom\"></uni-icons>\n\t\t\t\t\t\t\t<text class=\"function-name\">费用补缴</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t-->\n\t\t\t\t\t\t<!-- 注释掉停发查询\n\t\t\t\t\t\t<view class=\"function-item\">\n\t\t\t\t\t\t\t<uni-icons type=\"search\" size=\"28\" color=\"#fc3e2b\"></uni-icons>\n\t\t\t\t\t\t\t<text class=\"function-name\">停发查询</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t-->\n\t\t\t\t\t\t<view class=\"function-item\">\n\t\t\t\t\t\t\t<uni-icons type=\"shop\" size=\"28\" color=\"#fc3e2b\"></uni-icons>\n\t\t\t\t\t\t\t<text class=\"function-name\">商务合作</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"function-item\" @tap=\"handleContact\">\n\t\t\t\t\t\t\t<uni-icons type=\"headphones\" size=\"28\" color=\"#fc3e2b\"></uni-icons>\n\t\t\t\t\t\t\t<text class=\"function-name\">在线客服</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"function-item\">\n\t\t\t\t\t\t\t<uni-icons type=\"help\" size=\"28\" color=\"#fc3e2b\"></uni-icons>\n\t\t\t\t\t\t\t<text class=\"function-name\">帮助中心</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"function-item\" @tap=\"handleFeedback\">\n\t\t\t\t\t\t\t<uni-icons type=\"chat\" size=\"28\" color=\"#fc3e2b\"></uni-icons>\n\t\t\t\t\t\t\t<text class=\"function-name\">意见反馈</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<tab-bar :current-tab=\"tabIndex\"></tab-bar>\n\t\t\n\t\t<!-- 二维码弹窗 -->\n\t\t<view class=\"qrcode-popup\" v-if=\"showQrCodePopup\" @tap.stop=\"closeQrCode\">\n\t\t\t<view class=\"qrcode-container\" @tap.stop>\n\t\t\t\t<image class=\"qrcode-image\" :src=\"butlerImageUrl || '/static/images/qrcode.png'\" mode=\"aspectFit\"></image>\n\t\t\t\t<text class=\"qrcode-tip\">长按识别二维码添加管家</text>\n\t\t\t\t<view class=\"close-btn\" @tap=\"closeQrCode\">\n\t\t\t\t\t<uni-icons type=\"closeempty\" size=\"24\" color=\"#666666\"></uni-icons>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport TabBar from '@/components/tab-bar/index.vue'\n\timport deviceMixin from '@/mixins/device.js'\n\timport { getFavoriteCount, getBrowseHistoryCount, getFollowingCount } from '@/apis/content.js'\n\timport { getWxLoginCode, wxappLogin, getButlerImage } from '@/apis/user.js'\n\timport { setToken } from '@/utils/storage.js'\n\timport { mapGetters, mapActions } from 'vuex'\n\timport { user, publish } from '@/apis/index.js'\n\timport deviceInfo from '@/utils/device-info.js'\n\t\n\texport default {\n\t\tcomponents: {\n\t\t\tTabBar\n\t\t},\n\t\tmixins: [deviceMixin],\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttabIndex: 4,\n\t\t\t\tstatusBarHeight: 0,\n\t\t\t\tnavBarHeight: 44,\n\t\t\t\tshowQrCodePopup: false,\n\t\t\t\tfavoriteCount: 0, // 收藏数量\n\t\t\t\tbrowseHistoryCount: 0, // 浏览记录数量\n\t\t\t\tfollowingCount: 0, // 关注数量\n\t\t\t\tpublishCount: 0, // 发布数量\n\t\t\t\tbutlerImageUrl: '', // 管家二维码图片\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\t// 从Vuex中获取用户信息和登录状态\n\t\t\tuserInfo() {\n\t\t\t\treturn this.$store.getters['user/userInfo'];\n\t\t\t},\n\t\t\thasLogin() {\n\t\t\t\treturn this.$store.getters['user/isLoggedIn'];\n\t\t\t},\n\t\t\tloginLoading() {\n\t\t\t\treturn this.$store.state.user.loginLoading;\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\t// 获取状态栏高度\n\t\t\tthis.statusBarHeight = deviceInfo.getStatusBarHeight();\n\t\t\t\n\t\t\t// 从本地存储加载上次选择的城市\n\t\t\tthis.loadFavoriteData();\n\t\t},\n\t\tonShow() {\n\t\t\tthis.tabIndex = 4;\n\t\t\t// 确保每次打开页面时刷新用户信息\n\t\t\tthis.checkAndRefreshUserInfo();\n\t\t\tthis.getFavoriteCount();\n\t\t\tthis.getBrowseHistoryCount();\n\t\t\tthis.getFollowingCount();\n\t\t\tthis.getPublishCount();\n\t\t},\n\t\tmethods: {\n\t\t\t// 处理登录方法\n\t\t\tasync handleLogin() {\n\t\t\t\ttry {\n\t\t\t\t\t// 显示加载提示\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: '登录中',\n\t\t\t\t\t\tmask: true\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t// 1. 获取微信登录凭证code\n\t\t\t\t\tconst code = await getWxLoginCode();\n\t\t\t\t\t\n\t\t\t\t\t// 2. 直接调用登录接口\n\t\t\t\t\tconst loginData = { code };\n\t\t\t\t\tconst loginResult = await wxappLogin(loginData);\n\t\t\t\t\t\n\t\t\t\t\t// 3. 处理登录结果\n\t\t\t\t\tif (loginResult && loginResult.code === 0 && loginResult.data && loginResult.data.token) {\n\t\t\t\t\t\t// 设置token到store\n\t\t\t\t\t\tthis.$store.commit('user/SET_TOKEN', loginResult.data.token);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 获取用户信息\n\t\t\t\t\t\tawait this.$store.dispatch('user/getUserInfo');\n\t\t\t\t\t\t\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '登录成功',\n\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 登录成功后刷新页面数据\n\t\t\t\t\t\tthis.getFavoriteCount();\n\t\t\t\t\t\tthis.getBrowseHistoryCount();\n\t\t\t\t\t\tthis.getFollowingCount();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: loginResult.message || '登录失败',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tconsole.error('登录错误:', error);\n\t\t\t\t\t// 显示错误信息\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: error.message || '登录失败，请重试',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 处理用户信息区域点击\n\t\t\thandleUserInfoClick() {\n\t\t\t\tif (!this.hasLogin) {\n\t\t\t\t\t// 未登录时，触发登录\n\t\t\t\t\tthis.handleLogin();\n\t\t\t\t} else if (!this.userInfo.phone) {\n\t\t\t\t\t// 已登录但未绑定手机号，跳转到绑定手机号页面\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '该功能暂未开放',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\t// 实际开发中可以跳转到手机绑定页面\n\t\t\t\t\t// uni.navigateTo({\n\t\t\t\t\t//   url: '/pages/my/bind-phone/index'\n\t\t\t\t\t// });\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 检查并刷新用户信息\n\t\t\tasync checkAndRefreshUserInfo() {\n\t\t\t\t// 先检查登录状态\n\t\t\t\tconst isLoggedIn = this.$store.getters['user/isLoggedIn'];\n\t\t\t\t\n\t\t\t\tif (!isLoggedIn) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 先检查已有的用户信息是否完整\n\t\t\t\tconst userInfo = this.$store.getters['user/userInfo'];\n\t\t\t\tconst hasUserId = userInfo && (userInfo.clientId || userInfo.id);\n\t\t\t\t\n\t\t\t\t// 如果已经有用户ID，跳过请求\n\t\t\t\tif (hasUserId && userInfo.realName) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 用户已登录，但没有完整的用户信息，请求最新数据\n\t\t\t\ttry {\n\t\t\t\t\tawait this.$store.dispatch('user/getUserInfo');\n\t\t\t\t} catch (error) {\n\t\t\t\t\t// 如果是401错误，尝试重新登录\n\t\t\t\t\tif (error.code === 401) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait this.$store.dispatch('user/silentLogin');\n\t\t\t\t\t\t} catch (loginError) {\n\t\t\t\t\t\t\t// 重新登录失败\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\thandleSetting() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/settings/index'\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\thandleFeatureClick(type) {\n\t\t\t\t// 判断是否登录\n\t\t\t\tif (!this.hasLogin) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请先登录',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconst pages = {\n\t\t\t\t\tpublish: '/pages/my/publish/index',\n\t\t\t\t\tfollow: '/pages/my/follow/index',\n\t\t\t\t\tfavorite: '/pages/my/favorite/index',\n\t\t\t\t\thistory: '/pages/my/history/index'\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tif (pages[type]) {\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: pages[type]\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '功能开发中',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\thandleSignIn() {\n\t\t\t\t// 判断是否登录\n\t\t\t\tif (!this.hasLogin) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请先登录',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 跳转到音乐会员福利页面\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/vip/music/index'\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\thandleViewAllOrders() {\n\t\t\t\t// 判断是否登录\n\t\t\t\tif (!this.hasLogin) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请先登录',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/my/orders/index'\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\thandleOrderType(type) {\n\t\t\t\t// 判断是否登录\n\t\t\t\tif (!this.hasLogin) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请先登录',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 根据不同类型跳转到对应的订单列表页面\n\t\t\t\tlet tabIndex = 0;\n\t\t\t\tswitch(type) {\n\t\t\t\t\tcase 'processing':\n\t\t\t\t\t\ttabIndex = 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'unpaid':\n\t\t\t\t\t\ttabIndex = 2;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'completed':\n\t\t\t\t\t\ttabIndex = 3;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ttabIndex = 0;\n\t\t\t\t}\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/pages/my/orders/index?tab=${tabIndex}`\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\tshowQrCode() {\n\t\t\t\t// 显示二维码弹窗\n\t\t\t\tthis.showQrCodePopup = true;\n\t\t\t\t\n\t\t\t\t// 获取二维码图片\n\t\t\t\tthis.getButlerImage();\n\t\t\t},\n\t\t\t\n\t\t\tcloseQrCode() {\n\t\t\t\tthis.showQrCodePopup = false;\n\t\t\t},\n\t\t\t\n\t\t\t// 获取管家二维码图片\n\t\t\tasync getButlerImage() {\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await getButlerImage();\n\t\t\t\t\tif (res.code === 0 && res.data && res.data.imageUrl) {\n\t\t\t\t\t\tthis.butlerImageUrl = res.data.imageUrl;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error('获取管家二维码失败', res);\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('获取管家二维码出错', error);\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\thandleMasterJoin() {\n\t\t\t\t// 判断是否登录\n\t\t\t\tif (!this.hasLogin) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请先登录',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/master/join/index'\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 处理联系客服\n\t\t\thandleContact() {\n\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\tif (wx.openCustomerServiceChat) {\n\t\t\t\t\twx.openCustomerServiceChat({\n\t\t\t\t\t\textInfo: {url: 'https://work.weixin.qq.com/'}, // 根据实际情况修改\n\t\t\t\t\t\tcorpId: 'ww5823288888ed1111', // 需要替换为企业微信的企业ID\n\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\tconsole.log('客服会话打开成功', res);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail(err) {\n\t\t\t\t\t\t\tconsole.error('客服会话打开失败', err);\n\t\t\t\t\t\t\t// 降级方案，打开系统或小程序设置引导用户操作\n\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\ttitle: '在线客服',\n\t\t\t\t\t\t\t\tcontent: '无法连接客服，您可以通过右上角胶囊按钮 -> 关于 -> 客服来联系我们',\n\t\t\t\t\t\t\t\tconfirmText: '我知道了',\n\t\t\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// 旧版微信不支持此API，给用户提示\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '在线客服',\n\t\t\t\t\t\tcontent: '您可以通过右上角胶囊按钮 -> 关于 -> 客服来联系我们',\n\t\t\t\t\t\tconfirmText: '我知道了',\n\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t// #endif\n\t\t\t\t\n\t\t\t\t// #ifndef MP-WEIXIN\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '该功能仅支持微信小程序',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\t// #endif\n\t\t\t},\n\t\t\t\n\t\t\t// 处理意见反馈\n\t\t\thandleFeedback() {\n\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\tif (typeof wx.showFeedback === 'function') {\n\t\t\t\t\t// 使用官方API打开意见反馈页面\n\t\t\t\t\twx.showFeedback();\n\t\t\t\t} else {\n\t\t\t\t\t// 降级处理：直接用按钮替代\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '意见反馈',\n\t\t\t\t\t\tcontent: '您可以通过\"右上角胶囊按钮 -> 关于 -> 反馈与投诉\"来提交反馈',\n\t\t\t\t\t\tconfirmText: '我知道了',\n\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t// #endif\n\t\t\t\t\n\t\t\t\t// #ifndef MP-WEIXIN\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '该功能仅支持微信小程序',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\t// #endif\n\t\t\t},\n\t\t\t\n\t\t\tasync getFavoriteCount() {\n\t\t\t\t// 检查是否登录\n\t\t\t\tif (!this.hasLogin) {\n\t\t\t\t\tthis.favoriteCount = 0;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await getFavoriteCount();\n\t\t\t\t\tif (res.code === 0 && res.data) {\n\t\t\t\t\t\tthis.favoriteCount = res.data.total || 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.favoriteCount = 0;\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('获取收藏数量失败', error);\n\t\t\t\t\tthis.favoriteCount = 0;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tasync getBrowseHistoryCount() {\n\t\t\t\t// 检查是否登录\n\t\t\t\tif (!this.hasLogin) {\n\t\t\t\t\tthis.browseHistoryCount = 0;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await getBrowseHistoryCount();\n\t\t\t\t\tif (res.code === 0 && res.data) {\n\t\t\t\t\t\tthis.browseHistoryCount = res.data.count || 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.browseHistoryCount = 0;\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('获取浏览记录数量失败', error);\n\t\t\t\t\tthis.browseHistoryCount = 0;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tasync getFollowingCount() {\n\t\t\t\t// 检查是否登录\n\t\t\t\tif (!this.hasLogin) {\n\t\t\t\t\tthis.followingCount = 0;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await getFollowingCount();\n\t\t\t\t\tif (res.code === 0 && res.data) {\n\t\t\t\t\t\tthis.followingCount = res.data.count || 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.followingCount = 0;\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('获取关注数量失败', error);\n\t\t\t\t\tthis.followingCount = 0;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tasync getPublishCount() {\n\t\t\t\t// 检查是否登录\n\t\t\t\tif (!this.hasLogin) {\n\t\t\t\t\tthis.publishCount = 0;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await publish.getPublishCount();\n\t\t\t\t\tif (res.code === 0 && res.data) {\n\t\t\t\t\t\tthis.publishCount = res.data.total || 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.publishCount = 0;\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('获取发布数量失败', error);\n\t\t\t\t\tthis.publishCount = 0;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tloadFavoriteData() {\n\t\t\t\t// 实现从本地存储加载上次选择的城市\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.my-container {\n\t\tmin-height: 100vh;\n\t\tbackground-color: #f5f5f5;\n\t\tpadding-bottom: env(safe-area-inset-bottom);\n\t\tposition: relative;\n\t}\n\t\n\t.gradient-bg {\n\t\tbackground: linear-gradient(180deg, rgba(252, 62, 43, 0.95) 0%, rgba(255, 100, 51, 0.9) 100%);\n\t\tpadding-bottom: 45rpx;\n\t}\n\t\n\t.content-card {\n\t\tposition: relative;\n\t\tmargin-top: -35rpx;\n\t\tbackground-color: #ffffff;\n\t\tmin-height: calc(100vh - 350rpx);\n\t\tborder-radius: 40rpx 40rpx 0 0;\n\t\tpadding: 20rpx 30rpx;\n\t\tpadding-bottom: calc(120rpx + env(safe-area-inset-bottom));\n\t\tz-index: 1;\n\t\tbox-shadow: 0 -2rpx 8rpx rgba(0, 0, 0, 0.02);\n\t}\n\t\n\t.status-bar {\n\t\twidth: 100%;\n\t}\n\t\n\t.nav-bar {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\twidth: 100%;\n\t}\n\t\n\t.nav-left {\n\t\tposition: absolute;\n\t\tleft: 30rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tz-index: 1;\n\t}\n\t\n\t.nav-title {\n\t\ttext-align: center;\n\t\tfont-size: 34rpx;\n\t\tfont-weight: 500;\n\t\tcolor: #ffffff;\n\t}\n\t\n\t.user-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tpadding: 20rpx 30rpx;\n\t}\n\t\n\t.user-info {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tflex: 1;\n\t\tmargin-right: 20rpx;\n\t}\n\t\n\t.avatar {\n\t\twidth: 100rpx;\n\t\theight: 100rpx;\n\t\tborder-radius: 50%;\n\t\tmargin-right: 24rpx;\n\t\tborder: 4rpx solid rgba(255, 255, 255, 0.3);\n\t}\n\t\n\t.user-detail {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\t\n\t.nickname {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: 500;\n\t\tcolor: #ffffff;\n\t\tmargin-bottom: 8rpx;\n\t}\n\t\n\t.phone {\n\t\tfont-size: 26rpx;\n\t\tcolor: rgba(255, 255, 255, 0.8);\n\t}\n\t\n\t.white {\n\t\tcolor: #ffffff;\n\t}\n\t\n\t.white-light {\n\t\tcolor: rgba(255, 255, 255, 0.8);\n\t}\n\t\n\t.setting-btn {\n\t\twidth: 80rpx;\n\t\theight: 80rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t\n\t.feature-bar {\n\t\tdisplay: flex;\n\t\tjustify-content: space-around;\n\t}\n\t\n\t.feature-wrapper {\n\t\tmargin: 0 30rpx;\n\t\tpadding: 30rpx 20rpx;\n\t\tbackground: rgba(255, 255, 255, 0.25);\n\t\tborder-radius: 16rpx;\n\t\tbackdrop-filter: blur(10px);\n\t}\n\t\n\t.feature-item {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t}\n\t\n\t.feature-num {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: 500;\n\t\tcolor: #ffffff;\n\t\tmargin-bottom: 8rpx;\n\t}\n\t\n\t.feature-name {\n\t\tfont-size: 24rpx;\n\t\tcolor: rgba(255, 255, 255, 0.8);\n\t}\n\t\n\t.sign-btn {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 12rpx 20rpx;\n\t\tbackground: rgba(255, 255, 255, 0.2);\n\t\tborder-radius: 30rpx;\n\t\tborder: 1rpx solid rgba(255, 255, 255, 0.3);\n\t}\n\t\n\t.sign-text {\n\t\tfont-size: 24rpx;\n\t\tcolor: #ffffff;\n\t\tmargin-left: 8rpx;\n\t}\n\t\n\t.card {\n\t\tbackground-color: #ffffff;\n\t\tborder-radius: 24rpx;\n\t\tbox-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.08);\n\t\tborder: 1rpx solid rgba(0, 0, 0, 0.03);\n\t}\n\t\n\t.order-section {\n\t\tpadding: 20rpx;\n\t}\n\t\n\t.section-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 20rpx;\n\t}\n\t\n\t.section-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #000000;\n\t}\n\t\n\t.more-btn {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\t\n\t.more-text {\n\t\tfont-size: 26rpx;\n\t\tcolor: #999999;\n\t\tmargin-right: 4rpx;\n\t}\n\t\n\t.order-types {\n\t\tdisplay: flex;\n\t\tjustify-content: space-around;\n\t\tpadding: 10rpx 0;\n\t\twidth: 100%;\n\t\tmargin: 0 auto;\n\t}\n\t\n\t.order-type-item {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tpadding: 12rpx;\n\t\tflex: 1;\n\t}\n\t\n\t.type-name {\n\t\tfont-size: 26rpx;\n\t\tcolor: #000000;\n\t\tmargin-top: 12rpx;\n\t}\n\t\n\t.manager-card {\n\t\tmargin-top: 30rpx;\n\t}\n\t\n\t.manager-content {\n\t\tpadding: 30rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t}\n\t\n\t.manager-text {\n\t\tfont-size: 30rpx;\n\t\tcolor: #000000;\n\t}\n\t\n\t.function-card {\n\t\tmargin-top: 30rpx;\n\t}\n\t\n\t.function-grid {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(4, 1fr);\n\t\tpadding: 10rpx 0;\n\t\tgap: 0;\n\t}\n\t\n\t.function-item {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tpadding: 10rpx 0;\n\t}\n\t\n\t.function-name {\n\t\tfont-size: 26rpx;\n\t\tcolor: #000000;\n\t\tmargin-top: 8rpx;\n\t}\n\t\n\t.qrcode-popup {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground-color: rgba(0, 0, 0, 0.6);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tz-index: 999;\n\t}\n\t\n\t.qrcode-container {\n\t\twidth: 600rpx;\n\t\tbackground-color: #ffffff;\n\t\tborder-radius: 20rpx;\n\t\tpadding: 40rpx;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tposition: relative;\n\t}\n\t\n\t.qrcode-image {\n\t\twidth: 400rpx;\n\t\theight: 400rpx;\n\t\tmargin-bottom: 30rpx;\n\t}\n\t\n\t.qrcode-tip {\n\t\tfont-size: 28rpx;\n\t\tcolor: #666666;\n\t\tmargin-bottom: 20rpx;\n\t}\n\t\n\t.close-btn {\n\t\tposition: absolute;\n\t\ttop: 20rpx;\n\t\tright: 20rpx;\n\t\twidth: 60rpx;\n\t\theight: 60rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t\n\t/* 添加点击样式 */\n\t.user-info:active {\n\t\topacity: 0.8;\n\t}\n</style>\n","import MiniProgramPage from 'E:/Myxiangmu/chonggou/juzitongcheng/pages/my/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["deviceMixin","deviceInfo","uni","getWxLoginCode","wxappLogin","getButlerImage","wx","getFavoriteCount","getBrowseHistoryCount","getFollowingCount","publish"],"mappings":"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"}