{"version":3,"file":"detail.js","sources":["pages/community/detail.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY29tbXVuaXR5L2RldGFpbC52dWU"],"sourcesContent":["<template>\n\t<view class=\"container\" :style=\"pageStyle\">\n\t\t<!-- 自定义导航栏 -->\n\t\t<view class=\"nav-bar\" :style=\"{ paddingTop: statusBarHeight + 'px' }\">\n\t\t\t<view class=\"nav-content\">\n\t\t\t\t<view class=\"back-btn\" @tap=\"handleBack\">\n\t\t\t\t\t<uni-icons type=\"left\" size=\"20\" color=\"#333333\"></uni-icons>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"nav-title\">{{pageTitle}}</text>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 内容区域 -->\n\t\t<scroll-view \n\t\t\tclass=\"content-scroll\" \n\t\t\tscroll-y \n\t\t\t:style=\"{ top: navigationBarHeight + 'px' }\"\n\t\t\t:show-scrollbar=\"false\"\n\t\t\t:enhanced=\"true\"\n\t\t\t:bounces=\"true\"\n\t\t>\n\t\t\t<!-- 加载中 -->\n\t\t\t<view class=\"loading-container\" v-if=\"loading\">\n\t\t\t\t<view class=\"loading-indicator\"></view>\n\t\t\t\t<text class=\"loading-text\">内容加载中...</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 内容主体 -->\n\t\t\t<view class=\"content-wrapper\" v-if=\"!loading\">\n\t\t\t\t<!-- 商品图片轮播 -->\n\t\t\t\t<view class=\"swiper-container\">\n\t\t\t\t\t<swiper \n\t\t\t\t\t\tclass=\"swiper\" \n\t\t\t\t\t\t:autoplay=\"false\" \n\t\t\t\t\t\t:duration=\"500\"\n\t\t\t\t\t\t:circular=\"true\"\n\t\t\t\t\t\t@change=\"handleSwiperChange\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<swiper-item v-for=\"(img, index) in goodsData.images\" :key=\"index\">\n\t\t\t\t\t\t\t<image :src=\"img\" mode=\"aspectFill\" @tap=\"previewImage(index)\"></image>\n\t\t\t\t\t\t</swiper-item>\n\t\t\t\t\t</swiper>\n\t\t\t\t\t\n\t\t\t\t\t<!-- 自定义数字指示器 -->\n\t\t\t\t\t<view class=\"swiper-indicator\" v-if=\"goodsData.images && goodsData.images.length > 0\">\n\t\t\t\t\t\t<text>{{currentSwiperIndex + 1}}/{{goodsData.images.length}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- 商品信息 -->\n\t\t\t\t<view class=\"goods-info\">\n\t\t\t\t\t<view class=\"price-row\">\n\t\t\t\t\t\t<view class=\"price-left\">\n\t\t\t\t\t\t\t<text class=\"price\">¥{{goodsData.price}}</text>\n\t\t\t\t\t\t\t<text class=\"original-price\" v-if=\"goodsData.originalPrice\">¥{{goodsData.originalPrice}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"price-right\">\n\t\t\t\t\t\t\t<text class=\"stat-item\">{{goodsData.likes || 0}}人想要</text>\n\t\t\t\t\t\t\t<text class=\"stat-separator\">|</text>\n\t\t\t\t\t\t\t<text class=\"stat-item\">{{goodsData.viewCount}}浏览</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"title\">{{goodsData.title}}</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- 商品描述 -->\n\t\t\t\t<view class=\"goods-detail\">\n\t\t\t\t\t<view class=\"section-title\">商品描述</view>\n\t\t\t\t\t<rich-text :nodes=\"processedDescription\" class=\"detail-content\"></rich-text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- 交易地点 -->\t\n\t\t\t\t<view class=\"goods-detail\">\n\t\t\t\t\t<view class=\"section-title\">交易地点</view>\n\t\t\t\t\t<view class=\"location-content\">\n\t\t\t\t\t\t<text class=\"detail-content location-text\">{{goodsData.detailLocation || defaultLocation}}</text>\n\t\t\t\t\t\t<view class=\"copy-btn\" @tap=\"copyLocation\">\n\t\t\t\t\t\t\t<text class=\"copy-text\">复制</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<!-- 交易方式 -->\n\t\t\t\t<view class=\"goods-detail\">\n\t\t\t\t\t<view class=\"section-title\">交易方式</view>\n\t\t\t\t\t<view class=\"tag-item active\">\n\t\t\t\t\t\t<text class=\"tag-text\">{{goodsData.tradeMethod}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<!-- 发布人信息 -->\n\t\t\t\t<view class=\"publisher-card\">\n\t\t\t\t\t<view class=\"publisher-info\">\n\t\t\t\t\t\t<view class=\"publisher-left\">\n\t\t\t\t\t\t\t<image class=\"avatar\" :src=\"goodsData.publisher_avatar\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t\t<view class=\"info-content\">\n\t\t\t\t\t\t\t\t<text class=\"name\">{{goodsData.publisher_name}}</text>\n\t\t\t\t\t\t\t\t<text class=\"publish-count\">已发布 {{goodsData.publish_count}} 件</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"follow-btn\" @tap=\"handleFollow\">\n\t\t\t\t\t\t\t<text>{{isFollowed ? '已关注' : '关注'}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- Banner -->\n\t\t\t\t<view class=\"banner-container\" v-if=\"bannerList.length > 0\">\n\t\t\t\t\t<swiper \n\t\t\t\t\t\tclass=\"banner-swiper\" \n\t\t\t\t\t\t:circular=\"true\" \n\t\t\t\t\t\t:autoplay=\"true\" \n\t\t\t\t\t\t:interval=\"3000\" \n\t\t\t\t\t\t:duration=\"500\"\n\t\t\t\t\t\t@change=\"handleBannerSwiperChange\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<swiper-item v-for=\"(item, index) in bannerList\" :key=\"index\" @tap=\"handleBannerClick(item)\">\n\t\t\t\t\t\t\t<image :src=\"item.image\" mode=\"aspectFill\" class=\"banner-image\"></image>\n\t\t\t\t\t\t</swiper-item>\n\t\t\t\t\t</swiper>\n\t\t\t\t\t\n\t\t\t\t\t<!-- 指示点 -->\n\t\t\t\t\t<view class=\"dots\" v-if=\"bannerList.length > 1\">\n\t\t\t\t\t\t<view \n\t\t\t\t\t\t\tclass=\"dot\" \n\t\t\t\t\t\t\tv-for=\"(item, index) in bannerList\" \n\t\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\t\t:class=\"{ active: currentBannerIndex === index }\"\n\t\t\t\t\t\t></view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- 留言区域 -->\n\t\t\t\t<view class=\"comment-card\">\n\t\t\t\t\t<view class=\"comment-header\">\n\t\t\t\t\t\t<text class=\"comment-title\">留言 {{goodsData.commentCount || 0}}</text>\n\t\t\t\t\t\t<view class=\"comment-btn\" @tap=\"handleComment\">\n\t\t\t\t\t\t\t<uni-icons type=\"chat\" size=\"14\" color=\"#007AFF\"></uni-icons>\n\t\t\t\t\t\t\t<text>我要留言</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<!-- 留言列表 -->\n\t\t\t\t\t<view class=\"comment-list\" v-if=\"goodsData.comments && goodsData.comments.length\">\n\t\t\t\t\t\t<view class=\"comment-item\" v-for=\"(comment, index) in goodsData.comments\" :key=\"index\">\n\t\t\t\t\t\t\t<image class=\"comment-avatar\" :src=\"comment.avatar\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t\t<view class=\"comment-content\">\n\t\t\t\t\t\t\t\t<text class=\"comment-name\">{{comment.name}}</text>\n\t\t\t\t\t\t\t\t<text class=\"comment-text\">{{comment.content}}</text>\n\t\t\t\t\t\t\t\t<text class=\"comment-time\">{{comment.time}}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<!-- 无留言提示 -->\n\t\t\t\t\t<view class=\"no-comment\" v-else>\n\t\t\t\t\t\t<text>暂无留言</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</scroll-view>\n\t\t\n\t\t<!-- 底部操作栏 -->\n\t\t<action-bar \n\t\t\t:is-collected=\"isCollected\"\n\t\t\t:publisher=\"{id: goodsData.publisher_id, name: goodsData.publisher_name}\"\n\t\t\t@comment=\"handleComment\"\n\t\t\t@collect=\"handleCollect\"\n\t\t\t@share=\"handleShare\"\n\t\t\t@message=\"handleMessage\"\n\t\t/>\n\t</view>\n</template>\n\n<script>\n\timport deviceAdapter from '@/mixins/device-adapter.js'\n\timport shareMixin from '@/mixins/share.js'\n\timport { getPublicContentDetail, getCommentList, addFavorite, cancelFavorite, getFavoriteStatus } from '@/apis/content.js'\n\timport { createComment, getPublisherInfo, followUser, unfollowUser, getPublisherFollowStatus } from '@/apis/content.js'\n\timport { formatTimeAgo } from '@/utils/date.js'\n\timport ActionBar from '@/components/action-bar/index.vue'\n\timport { get } from '@/utils/request.js'\n\timport { getShareSettings } from '@/utils/share.js'\n\t\n\texport default {\n\t\tmixins: [deviceAdapter, shareMixin],\n\t\tcomponents: {\n\t\t\tActionBar\n\t\t},\n\t\tonLoad(options) {\n\t\t\t// 获取传递的商品ID\n\t\t\tconst id = options.id\n\t\t\tconsole.log('商品ID:', id)\n\t\t\t// 根据ID加载商品数据\n\t\t\tif (id) {\n\t\t\t\tthis.goodsId = id\n\t\t\t\tthis.loadGoodsData(id)\n\t\t\t\t// 加载轮播图数据\n\t\t\t\tthis.loadBannerData()\n\t\t\t} else {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '缺少商品ID',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tgoodsId: null,\n\t\t\t\tgoodsData: {\n\t\t\t\t\tid: '',\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tprice: '0',\n\t\t\t\t\toriginalPrice: '0',\n\t\t\t\t\tcondition: '',\n\t\t\t\t\tlocation: '',\n\t\t\t\t\tdetailLocation: '',\n\t\t\t\t\ttradeMethod: '线下交易',\n\t\t\t\t\tdescription: '',\n\t\t\t\t\timages: [],\n\t\t\t\t\tpublisher_avatar: '',\n\t\t\t\t\tpublisher_name: '',\n\t\t\t\t\tpublisher_id: '',\n\t\t\t\t\tpublish_count: 0,\n\t\t\t\t\tlikes: 0,\n\t\t\t\t\tviewCount: 0,\n\t\t\t\t\tcomments: [],\n\t\t\t\t\tcover: '' // 用于分享图片\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t\tloadError: false,\n\t\t\t\terrorMsg: '',\n\t\t\t\tisFollowed: false,\n\t\t\t\tisCollected: false,\n\t\t\t\tcurrentSwiperIndex: 0,\n\t\t\t\tcommentLoading: false,\n\t\t\t\tdefaultLocation: '江西南昌-青山湖区-高新大道1888号',\n\t\t\t\tbannerList: [],\n\t\t\t\tcurrentBannerIndex: 0,\n\t\t\t\tisContentPage: true, // 标记为内容页面，用于分享功能\n\t\t\t\tshareData: null\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tpageTitle() {\n\t\t\t\treturn '闲置详情'\n\t\t\t},\n\t\t\tpageStyle() {\n\t\t\t\treturn {\n\t\t\t\t\t'--nav-height': `${this.layoutSize.navHeight}px`,\n\t\t\t\t\t'--content-padding': `${this.layoutSize.contentPadding}rpx`\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 处理HTML内容，添加类名以适配小程序\n\t\t\tprocessedDescription() {\n\t\t\t\tif (!this.goodsData.description) return '';\n\t\t\t\t\n\t\t\t\t// 为段落添加类名\n\t\t\t\tlet content = this.goodsData.description\n\t\t\t\t\t.replace(/<p/g, '<p class=\"rich-paragraph\"')\n\t\t\t\t\t.replace(/<span/g, '<span class=\"rich-text\"')\n\t\t\t\t\t.replace(/<div/g, '<div class=\"rich-paragraph\"');\n\t\t\t\t\t\n\t\t\t\treturn content;\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\thandleBack() {\n\t\t\t\tuni.navigateBack()\n\t\t\t},\n\t\t\tpreviewImage(index) {\n\t\t\t\tuni.previewImage({\n\t\t\t\t\tcurrent: index,\n\t\t\t\t\turls: this.goodsData.images\n\t\t\t\t})\n\t\t\t},\n\t\t\tasync handleFollow() {\n\t\t\t\ttry {\n\t\t\t\t\t// 安全检查：确保publisher_id非空\n\t\t\t\t\tconst publisherId = this.goodsData.publisher_id;\n\t\t\t\t\tif (!publisherId) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '无法获取发布者信息',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 显示加载提示\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: this.isFollowed ? '取消关注中...' : '关注中...',\n\t\t\t\t\t\tmask: true\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t// 根据当前关注状态调用不同的API\n\t\t\t\t\tlet result;\n\t\t\t\t\t\n\t\t\t\t\tif (this.isFollowed) {\n\t\t\t\t\t\t// 已关注，执行取消关注\n\t\t\t\t\t\tresult = await unfollowUser({\n\t\t\t\t\t\t\tpublisher_id: publisherId\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 未关注，执行关注\n\t\t\t\t\t\tresult = await followUser({\n\t\t\t\t\t\t\tpublisher_id: publisherId\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 关闭加载提示\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\n\t\t\t\t\tif (result && result.code === 0) {\n\t\t\t\t\t\t// 操作成功后重新加载关注状态，保证与服务器同步\n\t\t\t\t\t\tawait this.loadFollowStatus(String(publisherId));\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 显示操作成功提示\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: this.isFollowed ? '已关注' : '已取消关注',\n\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error(result?.message || '操作失败');\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\t// 确保加载提示已关闭\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\n\t\t\t\t\tconsole.error('关注操作失败:', error);\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: error.message || '操作失败，请重试',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tasync handleCollect() {\n\t\t\t\ttry {\n\t\t\t\t\t// 显示加载提示\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: this.isCollected ? '取消收藏中...' : '收藏中...',\n\t\t\t\t\t\tmask: true\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\t// 调用接口\n\t\t\t\t\tlet result\n\t\t\t\t\tif (this.isCollected) {\n\t\t\t\t\t\t// 已收藏，执行取消收藏\n\t\t\t\t\t\tresult = await cancelFavorite(this.goodsId)\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 未收藏，执行添加收藏\n\t\t\t\t\t\tresult = await addFavorite(this.goodsId)\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 关闭加载提示\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\n\t\t\t\t\tif (result.code === 0) {\n\t\t\t\t\t\t// 操作成功，更新状态\n\t\t\t\t\t\tthis.isCollected = !this.isCollected\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: this.isCollected ? '已收藏' : '已取消收藏',\n\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error(result.message || '操作失败')\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tconsole.error('收藏操作失败:', error)\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: error.message || '操作失败，请重试',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleMessage() {\n\t\t\t\t// 获取发布者ID\n\t\t\t\tconst publisherId = this.goodsData.publisher_id || '';\n\t\t\t\tif (!publisherId) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '无法获取发布者信息',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 跳转到聊天页面\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/pages/chat/detail?userId=${publisherId}&userName=${this.goodsData.publisher_name}`,\n\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\tconsole.log('跳转到私信页面成功')\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.error('跳转到私信页面失败:', err)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '无法打开私信',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\thandleShare() {\n\t\t\t\t// 更新分享数据\n\t\t\t\tthis.updateShareData();\n\t\t\t\t// 显示分享菜单，包括分享朋友圈\n\t\t\t\tuni.showShareMenu({\n\t\t\t\t\twithShareTicket: true,\n\t\t\t\t\tmenus: ['shareAppMessage', 'shareTimeline']\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 过滤HTML内容中的图片标签\n\t\t\tfilterImgTags(htmlContent) {\n\t\t\t\tif (!htmlContent) return '';\n\t\t\t\t// 只移除img标签，保留其他HTML标签\n\t\t\t\treturn htmlContent.replace(/<img[^>]*>/g, '');\n\t\t\t},\n\t\t\t\n\t\t\t// 格式化发布时间为\"多久前\"\n\t\t\tformatPublishTime(time) {\n\t\t\t\tif (!time) return '';\n\t\t\t\treturn formatTimeAgo(time);\n\t\t\t},\n\t\t\t\n\t\t\t// 使用API加载商品数据\n\t\t\tasync loadGoodsData(id) {\n\t\t\t\tthis.loading = true\n\t\t\t\t\n\t\t\t\ttry {\n\t\t\t\t\t// 调用接口获取商品详情\n\t\t\t\t\tconst result = await getPublicContentDetail(id)\n\t\t\t\t\t\n\t\t\t\t\tif (result.code === 0 && result.data) {\n\t\t\t\t\t\tconst data = result.data\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 过滤content中的img标签（因为images数组中已经有图片）\n\t\t\t\t\t\tconst filteredContent = this.filterImgTags(data.content)\n\t\t\t\t\t\t// 格式化发布时间\n\t\t\t\t\t\tconst formattedTime = this.formatPublishTime(data.publishTime)\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 更新商品数据，保持原有结构\n\t\t\t\t\t\tthis.goodsData = {\n\t\t\t\t\t\t\tid: data.id,\n\t\t\t\t\t\t\ttitle: data.title || '',\n\t\t\t\t\t\t\tprice: data.price || 0,\n\t\t\t\t\t\t\toriginalPrice: data.originalPrice || 0,\n\t\t\t\t\t\t\tdescription: filteredContent || '',\n\t\t\t\t\t\t\timages: data.images || [],\n\t\t\t\t\t\t\tcondition: data.condition || '',\n\t\t\t\t\t\t\tlocation: data.location || '',\n\t\t\t\t\t\t\tdetailLocation: data.tradePlace || this.defaultLocation,\n\t\t\t\t\t\t\ttradeMethod: data.tradeMethod || '线下交易',\n\t\t\t\t\t\t\tpublisher_avatar: data.publisherAvatar || '',\n\t\t\t\t\t\t\tpublisher_name: data.publisher || '匿名用户',\n\t\t\t\t\t\t\tpublisher_id: data.publisherId || data.publisher_id || '',\n\t\t\t\t\t\t\tpublish_count: data.publishCount || 0,\n\t\t\t\t\t\t\tlikes: data.likes || 0,\n\t\t\t\t\t\t\tviewCount: data.views || 0,\n\t\t\t\t\t\t\tcomments: [],\n\t\t\t\t\t\t\tcover: data.cover || '' // 更新cover字段\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 加载评论列表\n\t\t\t\t\t\tthis.loadComments()\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 加载收藏状态\n\t\t\t\t\t\tthis.loadFavoriteStatus()\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 加载发布者信息（确保有publisher_id才调用）\n\t\t\t\t\t\tif (this.goodsData.publisher_id) {\n\t\t\t\t\t\t\tthis.loadPublisherInfo()\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 更新分享数据\n\t\t\t\t\t\tthis.updateShareData();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error(result.message || '获取商品详情失败')\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('加载商品详情失败:', error)\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '加载商品详情失败',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t} finally {\n\t\t\t\t\tthis.loading = false\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 加载收藏状态\n\t\t\tasync loadFavoriteStatus() {\n\t\t\t\tif (!this.goodsId) return\n\t\t\t\t\n\t\t\t\ttry {\n\t\t\t\t\tconst result = await getFavoriteStatus(this.goodsId)\n\t\t\t\t\tif (result.code === 0 && result.data) {\n\t\t\t\t\t\tthis.isCollected = result.data.isFavorite\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('获取收藏状态失败:', error)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 加载评论列表\n\t\t\tasync loadComments() {\n\t\t\t\tif (!this.goodsData.id) return\n\t\t\t\t\n\t\t\t\tthis.commentLoading = true\n\t\t\t\t\n\t\t\t\ttry {\n\t\t\t\t\tconst result = await getCommentList(this.goodsData.id, {\n\t\t\t\t\t\tpage: 1,\n\t\t\t\t\t\tpageSize: 10\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\tif (result.code === 0 && result.data) {\n\t\t\t\t\t\t// 格式化评论数据，适配实际API返回的字段名\n\t\t\t\t\t\tthis.goodsData.comments = (result.data.list || []).map(item => ({\n\t\t\t\t\t\t\tid: item.id,\n\t\t\t\t\t\t\tavatar: item.avatarUrl || '',\n\t\t\t\t\t\t\tname: item.realName || '匿名用户',\n\t\t\t\t\t\t\tcontent: item.comment || '',\n\t\t\t\t\t\t\ttime: this.formatPublishTime(item.createdAt)\n\t\t\t\t\t\t}))\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 更新评论总数\n\t\t\t\t\t\tif (result.data.total !== undefined) {\n\t\t\t\t\t\t\tthis.goodsData.commentCount = result.data.total\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error('获取评论列表失败:', result.message)\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('加载评论失败:', error)\n\t\t\t\t} finally {\n\t\t\t\t\tthis.commentLoading = false\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\thandleComment() {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '留言',\n\t\t\t\t\teditable: true,\n\t\t\t\t\tplaceholderText: '请输入留言内容',\n\t\t\t\t\tsuccess: async (res) => {\n\t\t\t\t\t\tif (res.confirm && res.content) {\n\t\t\t\t\t\t\t// 先定义一个变量标记是否已显示loading\n\t\t\t\t\t\t\tlet loadingShown = false;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t// 调用创建评论接口\n\t\t\t\t\t\t\t\tconst commentData = {\n\t\t\t\t\t\t\t\t\tcomment: res.content,\n\t\t\t\t\t\t\t\t\tcontentId: this.goodsData.id\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// 显示加载提示\n\t\t\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\t\t\ttitle: '提交中...'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tloadingShown = true;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tconst result = await createComment(commentData);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// 操作完成，隐藏加载提示\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\tloadingShown = false;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif (result.code === 0) {\n\t\t\t\t\t\t\t\t\t// 评论成功\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: '留言成功',\n\t\t\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t// 刷新评论列表\n\t\t\t\t\t\t\t\t\tthis.loadComments();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthrow new Error(result.message || '评论失败');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\t// 确保发生异常时也会隐藏加载提示\n\t\t\t\t\t\t\t\tif (loadingShown) {\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\tloadingShown = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tconsole.error('提交评论失败:', error);\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: error.message || '留言失败，请重试',\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\t// 最后一道防线，确保无论如何都会隐藏加载提示\n\t\t\t\t\t\t\t\tif (loadingShown) {\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\thandleSwiperChange(e) {\n\t\t\t\tthis.currentSwiperIndex = e.detail.current\n\t\t\t},\n\t\t\thandleBannerClick(item) {\n\t\t\t\t// 处理Banner点击事件\n\t\t\t\tif (!item || !item.linkUrl) return;\n\t\t\t\t\n\t\t\t\tif (item.linkType === 'page') {\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: '/' + item.linkUrl,\n\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\tconsole.error('页面跳转失败', item.linkUrl, err);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else if (item.linkType === 'webview') {\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: '/pages/webview/index?url=' + encodeURIComponent(item.linkUrl),\n\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\tconsole.error('网页跳转失败', item.linkUrl, err);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else if (item.linkType === 'miniprogram') {\n\t\t\t\t\t// 跳转到其他小程序\n\t\t\t\t\tuni.navigateToMiniProgram({\n\t\t\t\t\t\tappId: item.linkUrl,\n\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\tconsole.error('小程序跳转失败', item.linkUrl, err);\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '跳转失败',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleBannerSwiperChange(e) {\n\t\t\t\tthis.currentBannerIndex = e.detail.current\n\t\t\t},\n\t\t\tcopyLocation() {\n\t\t\t\tuni.setClipboardData({\n\t\t\t\t\tdata: this.goodsData.detailLocation || this.defaultLocation,\n\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '地址已复制',\n\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 加载发布者信息\n\t\t\tasync loadPublisherInfo() {\n\t\t\t\ttry {\n\t\t\t\t\t// 安全检查：确保publisher_id存在且有效\n\t\t\t\t\tconst publisherId = this.goodsData.publisher_id;\n\t\t\t\t\tif (!publisherId) {\n\t\t\t\t\t\tconsole.error('无法加载发布者信息: publisher_id不存在');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 将publisherId转换为字符串\n\t\t\t\t\tconst publisherIdStr = String(publisherId);\n\t\t\t\t\t\n\t\t\t\t\t// 调用API获取发布者信息\n\t\t\t\t\tconst result = await getPublisherInfo(publisherIdStr);\n\t\t\t\t\t\n\t\t\t\t\t// 检查API返回结果\n\t\t\t\t\tif (result && result.code === 0 && result.data) {\n\t\t\t\t\t\t// 获取数据\n\t\t\t\t\t\tconst publisherData = result.data;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 安全地更新UI数据，使用API返回的字段\n\t\t\t\t\t\tif (publisherData.real_name) {\n\t\t\t\t\t\t\tthis.goodsData.publisher_name = publisherData.real_name;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (publisherData.avatar_url) {\n\t\t\t\t\t\t\tthis.goodsData.publisher_avatar = publisherData.avatar_url;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (publisherData.publish_count !== undefined) {\n\t\t\t\t\t\t\tthis.goodsData.publish_count = publisherData.publish_count;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 加载关注状态\n\t\t\t\t\t\tawait this.loadFollowStatus(publisherIdStr);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error('获取发布者信息失败:', result?.message || '未知错误');\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('加载发布者信息异常:', error);\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 加载关注状态\n\t\t\tasync loadFollowStatus(publisherId) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!publisherId) {\n\t\t\t\t\t\tconsole.error('无法获取关注状态: publisher_id不存在');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tconst result = await getPublisherFollowStatus(publisherId);\n\t\t\t\t\t\n\t\t\t\t\tif (result && result.code === 0 && result.data) {\n\t\t\t\t\t\t// 更新关注状态\n\t\t\t\t\t\tthis.isFollowed = !!result.data.is_followed;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error('获取关注状态失败:', result?.message || '未知错误');\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('加载关注状态异常:', error);\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 加载轮播图数据\n\t\t\tasync loadBannerData() {\n\t\t\t\ttry {\n\t\t\t\t\tconst result = await get('/wx/inner-banner/list', {\n\t\t\t\t\t\tbannerType: 'idle'\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\tif (result && result.code === 0 && result.data) {\n\t\t\t\t\t\t// 根据返回结果，更新轮播图数据\n\t\t\t\t\t\tif (result.data.isGlobalEnabled && result.data.list && result.data.list.length > 0) {\n\t\t\t\t\t\t\tthis.bannerList = result.data.list\n\t\t\t\t\t\t\t\t.filter(item => item.isEnabled)\n\t\t\t\t\t\t\t\t.sort((a, b) => a.order - b.order)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('获取轮播图数据失败', error)\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 更新分享数据\n\t\t\tasync updateShareData() {\n\t\t\t\ttry {\n\t\t\t\t\t// 获取分享配置\n\t\t\t\t\tconst settings = await getShareSettings();\n\t\t\t\t\t\n\t\t\t\t\tif (settings && this.goodsData) {\n\t\t\t\t\t\t// 分享标题处理\n\t\t\t\t\t\t// 1. 如果有商品标题，优先使用商品标题\n\t\t\t\t\t\t// 2. 否则使用后端配置的content_share_text\n\t\t\t\t\t\tconst shareTitle = this.goodsData.title || settings.content_share_text || '查看闲置商品';\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 分享图片处理：\n\t\t\t\t\t\t// 1. 优先使用第一张商品图片作为封面\n\t\t\t\t\t\t// 2. 如果没有商品图片，使用后端配置的content_share_image\n\t\t\t\t\t\tlet shareImage = '';\n\t\t\t\t\t\tif (this.goodsData.images && this.goodsData.images.length > 0) {\n\t\t\t\t\t\t\tshareImage = this.goodsData.images[0];\n\t\t\t\t\t\t} else if (settings.content_share_image) {\n\t\t\t\t\t\t\tshareImage = settings.content_share_image;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 更新商品的封面图\n\t\t\t\t\t\tthis.goodsData.cover = shareImage;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 直接设置分享数据\n\t\t\t\t\t\tthis.shareData = {\n\t\t\t\t\t\t\ttitle: shareTitle,\n\t\t\t\t\t\t\timageUrl: shareImage,\n\t\t\t\t\t\t\tpath: `/pages/community/detail?id=${this.goodsId}`\n\t\t\t\t\t\t};\n\t\t\t\t\t\t\n\t\t\t\t\t\tconsole.log('闲置商品分享数据已更新:', this.shareData);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 配置获取失败，调用混入的默认初始化\n\t\t\t\t\t\tthis.initShareData();\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('更新分享数据失败:', error);\n\t\t\t\t\t// 配置获取失败，调用混入的默认初始化\n\t\t\t\t\tthis.initShareData();\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 添加onShow生命周期\n\t\t\tonShow() {\n\t\t\t\t// 确保分享功能启用，使用最新配置\n\t\t\t\tthis.updateShareData();\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.container {\n\t\twidth: 100%;\n\t\tmin-height: 100vh;\n\t\tposition: relative;\n\t\tbackground-color: #FFFFFF;\n\t}\n\t\n\t/* 导航栏样式 */\n\t.nav-bar {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tz-index: 100;\n\t\tbackground-color: #FFFFFF;\n\t}\n\t\n\t.nav-content {\n\t\theight: 44px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tposition: relative;\n\t}\n\t\n\t.back-btn {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\twidth: 44px;\n\t\theight: 44px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tz-index: 2;\n\t}\n\t\n\t.nav-title {\n\t\tflex: 1;\n\t\ttext-align: center;\n\t\tfont-size: 32rpx;\n\t\tcolor: #262626;\n\t\tfont-weight: 600;\n\t}\n\t\n\t/* 轮播图容器样式 */\n\t.swiper-container {\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\theight: 750rpx;\n\t\tbackground-color: #FFFFFF;\n\t}\n\t\n\t/* 轮播图样式 */\n\t.swiper {\n\t\twidth: 100%;\n\t\theight: 750rpx;\n\t\tbackground-color: #FFFFFF;\n\t}\n\t\n\t.swiper image {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\t\n\t/* 自定义数字指示器样式 */\n\t.swiper-indicator {\n\t\tposition: absolute;\n\t\tright: 2rpx;\n\t\tbottom: 2rpx;\n\t\tbackground-color: rgba(0, 0, 0, 0.3);\n\t\tpadding: 2rpx 12rpx;\n\t\theight: 32rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tborder-radius: 100rpx;\n\t\tz-index: 99;\n\t\tpointer-events: none;\n\t}\n\t\n\t.swiper-indicator text {\n\t\tcolor: #FFFFFF;\n\t\tfont-size: 24rpx;\n\t\tline-height: 1;\n\t}\n\t\n\t/* 商品信息样式 */\n\t.goods-info {\n\t\tbackground-color: #FFFFFF;\n\t\tpadding: 30rpx;\n\t\tpadding-left: var(--content-padding);\n\t\tpadding-right: var(--content-padding);\n\t}\n\t\n\t.price-row {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tgap: 16rpx;\n\t\tmargin-bottom: 20rpx;\n\t}\n\t\n\t.price-left {\n\t\tdisplay: flex;\n\t\talign-items: baseline;\n\t\tgap: 16rpx;\n\t}\n\t\n\t.price {\n\t\tfont-size: 48rpx;\n\t\tcolor: #fc3e2b;\n\t\tfont-weight: 600;\n\t}\n\t\n\t.original-price {\n\t\tfont-size: 28rpx;\n\t\tcolor: #999999;\n\t\ttext-decoration: line-through;\n\t}\n\t\n\t.price-right {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 12rpx;\n\t}\n\t\n\t.stat-item {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999999;\n\t}\n\t\n\t.stat-separator {\n\t\tfont-size: 24rpx;\n\t\tcolor: #EEEEEE;\n\t}\n\t\n\t.title {\n\t\tfont-size: 32rpx;\n\t\tcolor: #262626;\n\t\tfont-weight: 500;\n\t\tmargin-bottom: 16rpx;\n\t\tline-height: 1.4;\n\t}\n\t\n\t/* 商品描述样式 */\n\t.goods-detail {\n\t\tbackground-color: #FFFFFF;\n\t\tpadding: 30rpx;\n\t\tpadding-left: var(--content-padding);\n\t\tpadding-right: var(--content-padding);\n\t}\n\t\n\t.section-title {\n\t\tfont-size: 30rpx;\n\t\tcolor: #262626;\n\t\tfont-weight: 600;\n\t\tmargin-bottom: 20rpx;\n\t}\n\t\n\t/* 确保rich-text中段落的样式 */\n\t.detail-content {\n\t\tfont-size: 28rpx;\n\t\tcolor: #333333;\n\t\tline-height: 1.6;\n\t}\n\t\n\t/* 小程序不支持标签选择器，使用类选择器替代 */\n\t.rich-paragraph {\n\t\tmargin-bottom: 10rpx;\n\t}\n\t\n\t.rich-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #333333;\n\t\tline-height: 1.6;\n\t}\n\t\n\t/* 发布人信息样式 */\n\t.publisher-card {\n\t\tbackground-color: #FFFFFF;\n\t\tpadding: 30rpx;\n\t\tpadding-left: var(--content-padding);\n\t\tpadding-right: var(--content-padding);\n\t}\n\t\n\t.publisher-info {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t}\n\t\n\t.publisher-left {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 20rpx;\n\t}\n\t\n\t.avatar {\n\t\twidth: 80rpx;\n\t\theight: 80rpx;\n\t\tborder-radius: 50%;\n\t\tbackground-color: #f5f5f5;\n\t}\n\t\n\t.info-content {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 8rpx;\n\t}\n\t\n\t.name {\n\t\tfont-size: 28rpx;\n\t\tcolor: #262626;\n\t\tfont-weight: 500;\n\t}\n\t\n\t.publish-count {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999999;\n\t}\n\t\n\t.follow-btn {\n\t\tpadding: 12rpx 32rpx;\n\t\tborder-radius: 32rpx;\n\t\tbackground-color: #fc3e2b;\n\t}\n\t\n\t.follow-btn text {\n\t\tfont-size: 26rpx;\n\t\tcolor: #FFFFFF;\n\t}\n\t\n\t/* 内容区域样式 */\n\t.content-scroll {\n\t\tposition: fixed;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 100rpx;\n\t\tz-index: 1;\n\t\toverflow-y: auto;\n\t\t-webkit-overflow-scrolling: touch;\n\t}\n\t\n\t.content-wrapper {\n\t\tposition: relative;\n\t\tpadding-bottom: calc(env(safe-area-inset-bottom) + 40rpx);\n\t}\n\t\n\t/* Banner样式 */\n\t.banner-container {\n\t\twidth: 100%;\n\t\theight: 200rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tposition: relative;\n\t}\n\t\n\t.banner-swiper {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\t\n\t.banner-image {\n\t\twidth: 100%;\n\t\theight: calc(100% - 10rpx);\n\t}\n\t\n\t.dots {\n\t\tposition: absolute;\n\t\tbottom: 20rpx;\n\t\tright: 20rpx;\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\tgap: 8rpx;\n\t}\n\t\n\t.dot {\n\t\twidth: 12rpx;\n\t\theight: 12rpx;\n\t\tborder-radius: 50%;\n\t\tbackground-color: rgba(255, 255, 255, 0.6);\n\t}\n\t\n\t.dot.active {\n\t\tbackground-color: #fc3e2b;\n\t\twidth: 24rpx;\n\t\tborder-radius: 6rpx;\n\t}\n\t\n\t.location-content {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t}\n\t\n\t.location-text {\n\t\tflex: 1;\n\t\tpadding-right: 20rpx;\n\t}\n\t\n\t.copy-btn {\n\t\tpadding: 6rpx 16rpx;\n\t\tbackground-color: #f5f5f5;\n\t\tborder-radius: 30rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t\n\t.copy-text {\n\t\tfont-size: 24rpx;\n\t\tcolor: #666666;\n\t}\n\t\n\t/* 交易方式样式 */\n\t.trade-method-content {\n\t\tpadding: 16rpx 24rpx;\n\t\tborder: 1px solid #e5e5e5;\n\t\tborder-radius: 8rpx;\n\t\tbackground-color: #ffffff;\n\t}\n\t\n\t.tag-item {\n\t\tdisplay: inline-block;\n\t\tpadding: 10rpx 20rpx;\n\t\tbackground-color: #f5f5f5;\n\t\tborder-radius: 8rpx;\n\t\tmargin-right: 20rpx;\n\t}\n\t\n\t.tag-item.active {\n\t\tbackground-color: #fff2f0;\n\t\tborder: 1rpx solid #fc3e2b;\n\t}\n\t\n\t.tag-text {\n\t\tfont-size: 26rpx;\n\t\tcolor: #666666;\n\t}\n\t\n\t.tag-item.active .tag-text {\n\t\tcolor: #fc3e2b;\n\t}\n\t\n\t/* 加载状态样式 */\n\t.loading-container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\theight: 300rpx;\n\t\tmargin-top: 100rpx;\n\t}\n\t\n\t.loading-indicator {\n\t\twidth: 40rpx;\n\t\theight: 40rpx;\n\t\tborder: 4rpx solid #f0f0f0;\n\t\tborder-radius: 50%;\n\t\tborder-top-color: #fc3e2b;\n\t\tanimation: spin 1s linear infinite;\n\t\tmargin-bottom: 20rpx;\n\t}\n\t\n\t@keyframes spin {\n\t\t0% {\n\t\t\ttransform: rotate(0deg);\n\t\t}\n\t\t100% {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n\t\n\t.loading-text {\n\t\tfont-size: 26rpx;\n\t\tcolor: #999999;\n\t}\n\t\n\t/* 留言区域样式 */\n\t.comment-card {\n\t\tbackground-color: #FFFFFF;\n\t\tpadding: 30rpx;\n\t\tpadding-left: var(--content-padding);\n\t\tpadding-right: var(--content-padding);\n\t\tmargin-bottom: 40rpx;\n\t}\n\t\n\t.comment-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 30rpx;\n\t}\n\t\n\t.comment-title {\n\t\tfont-size: 30rpx;\n\t\tcolor: #262626;\n\t\tfont-weight: 600;\n\t}\n\t\n\t.comment-btn {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8rpx;\n\t}\n\t\n\t.comment-btn text {\n\t\tfont-size: 26rpx;\n\t\tcolor: #007AFF;\n\t}\n\t\n\t.comment-list {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 30rpx;\n\t}\n\t\n\t.comment-item {\n\t\tdisplay: flex;\n\t\tgap: 20rpx;\n\t}\n\t\n\t.comment-avatar {\n\t\twidth: 64rpx;\n\t\theight: 64rpx;\n\t\tborder-radius: 50%;\n\t\tbackground-color: #f5f5f5;\n\t}\n\t\n\t.comment-content {\n\t\tflex: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 8rpx;\n\t}\n\t\n\t.comment-name {\n\t\tfont-size: 26rpx;\n\t\tcolor: #666666;\n\t}\n\t\n\t.comment-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #262626;\n\t\tline-height: 1.5;\n\t}\n\t\n\t.comment-time {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999999;\n\t}\n\t\n\t.no-comment {\n\t\ttext-align: center;\n\t\tpadding: 40rpx 0;\n\t}\n\t\n\t.no-comment text {\n\t\tfont-size: 26rpx;\n\t\tcolor: #999999;\n\t}\n</style> ","import MiniProgramPage from 'E:/Myxiangmu/chonggou/juzitongcheng/pages/community/detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["deviceAdapter","shareMixin","uni","unfollowUser","followUser","cancelFavorite","addFavorite","formatTimeAgo","getPublicContentDetail","getFavoriteStatus","getCommentList","createComment","getPublisherInfo","getPublisherFollowStatus","get","getShareSettings"],"mappings":"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"}