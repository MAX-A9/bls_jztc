{"version":3,"file":"index.js","sources":["pages/settings/index.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc2V0dGluZ3MvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 自定义导航栏 -->\r\n\t\t<view class=\"nav-bar\" :style=\"{ paddingTop: statusBarHeight + 'px' }\">\r\n\t\t\t<view class=\"nav-content\" :style=\"{ height: navBarHeight + 'px' }\">\r\n\t\t\t\t<view class=\"back-btn\" @tap=\"handleBack\">\r\n\t\t\t\t\t<uni-icons type=\"left\" size=\"20\" color=\"#333333\"></uni-icons>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"nav-title\">设置</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 隐藏的canvas用于图片处理 -->\r\n\t\t<canvas canvas-id=\"avatarCanvas\" style=\"width: 200px; height: 200px; position: absolute; left: -1000px; top: -1000px;\"></canvas>\r\n\t\t\r\n\t\t<!-- 设置内容 -->\r\n\t\t<scroll-view \r\n\t\t\tclass=\"content-scroll\" \r\n\t\t\tscroll-y\r\n\t\t\t:style=\"{ top: `calc(${statusBarHeight}px + ${navBarHeight}px)` }\"\r\n\t\t>\r\n\t\t\t<view class=\"settings-wrapper\">\r\n\t\t\t\t<!-- 个人设置 -->\r\n\t\t\t\t<view class=\"settings-section\">\r\n\t\t\t\t\t<view class=\"section-title\">个人设置</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"settings-item\">\r\n\t\t\t\t\t\t<text class=\"item-label\">头像</text>\r\n\t\t\t\t\t\t<view class=\"item-right\">\r\n\t\t\t\t\t\t\t<button class=\"avatar-wrapper\" open-type=\"chooseAvatar\" @chooseavatar=\"onChooseAvatar\">\r\n\t\t\t\t\t\t\t\t<image class=\"avatar-preview\" :src=\"userInfo.avatar\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<uni-icons type=\"right\" size=\"16\" color=\"#CCCCCC\"></uni-icons>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"settings-item\">\r\n\t\t\t\t\t\t<text class=\"item-label\">昵称</text>\r\n\t\t\t\t\t\t<view class=\"item-right nickname-input-wrapper\">\r\n\t\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\t\tclass=\"nickname-input\" \r\n\t\t\t\t\t\t\t\ttype=\"nickname\" \r\n\t\t\t\t\t\t\t\t:placeholder=\"userInfo.nickname || '请输入昵称'\" \r\n\t\t\t\t\t\t\t\t@blur=\"onNicknameInput\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<uni-icons type=\"right\" size=\"16\" color=\"#CCCCCC\"></uni-icons>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"settings-item\" @tap=\"handleEditPhone\">\r\n\t\t\t\t\t\t<text class=\"item-label\">手机号</text>\r\n\t\t\t\t\t\t<view class=\"item-right\">\r\n\t\t\t\t\t\t\t<text class=\"item-value\">{{ userInfo.phone || '未设置' }}</text>\r\n\t\t\t\t\t\t\t<uni-icons type=\"right\" size=\"16\" color=\"#CCCCCC\"></uni-icons>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 订阅通知 -->\r\n\t\t\t\t<view class=\"settings-section\">\r\n\t\t\t\t\t<view class=\"section-title\">订阅通知</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"settings-item\">\r\n\t\t\t\t\t\t<text class=\"item-label\">消息通知</text>\r\n\t\t\t\t\t\t<switch \r\n\t\t\t\t\t\t\t:checked=\"notifications.message\" \r\n\t\t\t\t\t\t\tcolor=\"#fc3e2b\"\r\n\t\t\t\t\t\t\t@change=\"handleSwitchChange('message', $event)\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"settings-item\">\r\n\t\t\t\t\t\t<text class=\"item-label\">留言通知</text>\r\n\t\t\t\t\t\t<switch \r\n\t\t\t\t\t\t\t:checked=\"notifications.comment\" \r\n\t\t\t\t\t\t\tcolor=\"#fc3e2b\"\r\n\t\t\t\t\t\t\t@change=\"handleSwitchChange('comment', $event)\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 其他设置 -->\r\n\t\t\t\t<view class=\"settings-section\">\r\n\t\t\t\t\t<view class=\"section-title\">其他设置</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"settings-item\" @tap=\"handleClearCache\">\r\n\t\t\t\t\t\t<text class=\"item-label\">清除缓存</text>\r\n\t\t\t\t\t\t<view class=\"item-right\">\r\n\t\t\t\t\t\t\t<text class=\"cache-size\">{{ cacheSize }}</text>\r\n\t\t\t\t\t\t\t<uni-icons type=\"right\" size=\"16\" color=\"#CCCCCC\"></uni-icons>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"settings-item\" @tap=\"handleAbout\">\r\n\t\t\t\t\t\t<text class=\"item-label\">关于我们</text>\r\n\t\t\t\t\t\t<view class=\"item-right\">\r\n\t\t\t\t\t\t\t<uni-icons type=\"right\" size=\"16\" color=\"#CCCCCC\"></uni-icons>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 底部协议 -->\r\n\t\t\t\t<view class=\"footer\">\r\n\t\t\t\t\t<view class=\"agreement-links\">\r\n\t\t\t\t\t\t<text class=\"agreement-link\" @tap=\"handleAgreement('service')\">用户协议</text>\r\n\t\t\t\t\t\t<text class=\"divider\">|</text>\r\n\t\t\t\t\t\t<text class=\"agreement-link\" @tap=\"handleAgreement('privacy')\">隐私政策</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t\r\n\t\t<!-- 自定义关于我们弹窗 -->\r\n\t\t<view class=\"about-popup\" v-if=\"showAboutPopup\">\r\n\t\t\t<view class=\"about-container\">\r\n\t\t\t\t<view class=\"about-header\">\r\n\t\t\t\t\t<text class=\"about-title\">关于我们</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"about-content\">\r\n\t\t\t\t\t<text class=\"app-name\">{{ appInfo.name }} v1.0.0</text>\r\n\t\t\t\t\t<text class=\"app-desc\">{{ appInfo.description }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"about-footer\">\r\n\t\t\t\t\t<view class=\"confirm-btn\" @tap=\"showAboutPopup = false\">确定</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { mapGetters, mapActions } from 'vuex';\r\n\timport { user } from '@/apis/index.js';\r\n\timport { agreement } from '../../apis/index.js';\r\n\timport { settings } from '../../apis/index.js';\r\n\timport { getUserInfo } from '@/utils/auth.js';\r\n\timport deviceInfo from '@/utils/device-info.js';\r\n\t\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tstatusBarHeight: 0,\r\n\t\t\t\tnavBarHeight: 44,\r\n\t\t\t\tuserInfo: {\r\n\t\t\t\t\tavatar: '/static/demo/0.png',\r\n\t\t\t\t\tnickname: '橘子用户',\r\n\t\t\t\t\tphone: ''\r\n\t\t\t\t},\r\n\t\t\t\tnotifications: {\r\n\t\t\t\t\tmessage: true,\r\n\t\t\t\t\tcomment: true\r\n\t\t\t\t},\r\n\t\t\t\tcacheSize: '8.5MB',\r\n\t\t\t\tupdateData: {}, // 临时存储要更新的数据\r\n\t\t\t\tappInfo: {\r\n\t\t\t\t\tname: '橘子同城',\r\n\t\t\t\t\tdescription: '为您提供便捷的本地生活服务'\r\n\t\t\t\t},\r\n\t\t\t\tshowAboutPopup: false // 控制关于我们弹窗显示\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapGetters('user', ['isLoggedIn'])\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\t// 获取状态栏高度 - 使用新的设备信息工具\r\n\t\t\tthis.statusBarHeight = deviceInfo.getStatusBarHeight();\r\n\t\t\t\r\n\t\t\t// 加载用户信息\r\n\t\t\tthis.loadUserInfo();\r\n\t\t\t\r\n\t\t\t// 获取缓存大小\r\n\t\t\tthis.updateCacheSize();\r\n\t\t\t\r\n\t\t\t// 获取应用基础信息\r\n\t\t\tthis.fetchAppBaseInfo();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapActions('user', ['getUserInfo']),\r\n\t\t\t\r\n\t\t\t// 加载用户信息\r\n\t\t\tasync loadUserInfo() {\r\n\t\t\t\tif (this.isLoggedIn) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t// 从Vuex加载用户信息\r\n\t\t\t\t\t\tconst userInfo = await this.getUserInfo();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 从本地存储获取，确保数据完整\r\n\t\t\t\t\t\tconst localUserInfo = getUserInfo();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.userInfo = {\r\n\t\t\t\t\t\t\tavatar: localUserInfo.avatarUrl || '/static/demo/0.png',\r\n\t\t\t\t\t\t\tnickname: localUserInfo.realName || '橘子用户',\r\n\t\t\t\t\t\t\tphone: localUserInfo.phone || ''\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\tconsole.error('加载用户信息失败:', err);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '加载用户信息失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 处理返回按钮点击\r\n\t\t\thandleBack() {\r\n\t\t\t\tuni.navigateBack()\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 头像选择处理\r\n\t\t\tasync onChooseAvatar(e) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst { avatarUrl } = e.detail;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!avatarUrl) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 显示加载提示\r\n\t\t\t\t\tuni.showLoading({ title: '处理中...' });\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 1. 更新本地显示\r\n\t\t\t\t\tthis.userInfo.avatar = avatarUrl;\r\n\t\t\t\t\t\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t// 2. 调用接口保存头像（会自动转换为base64）\r\n\t\t\t\t\t\tconst result = await user.uploadAvatar(avatarUrl);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 3. 更新Vuex中的用户信息\r\n\t\t\t\t\t\tawait this.getUserInfo();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '头像已更新',\r\n\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '头像更新失败: ' + (err.message || '未知错误'),\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '更新头像失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 昵称输入处理\r\n\t\t\tasync onNicknameInput(e) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst nickname = e.detail.value;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!nickname || nickname === this.userInfo.nickname) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 更新本地显示\r\n\t\t\t\t\tthis.userInfo.nickname = nickname;\r\n\t\t\t\t\tthis.updateData.realName = nickname;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 保存到后端\r\n\t\t\t\t\tawait this.saveUserInfo();\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '昵称已更新',\r\n\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t});\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tconsole.error('更新昵称失败:', err);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '更新昵称失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 修改手机号\r\n\t\t\thandleEditPhone() {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '修改手机号',\r\n\t\t\t\t\teditable: true,\r\n\t\t\t\t\tplaceholderText: '请输入11位手机号',\r\n\t\t\t\t\tcontent: this.userInfo.phone || '',\r\n\t\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\t\tif (res.confirm && res.content) {\r\n\t\t\t\t\t\t\tconst phone = res.content;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// 简单的手机号验证\r\n\t\t\t\t\t\t\tif (!/^1\\d{10}$/.test(phone)) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '请输入有效的手机号',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (phone === this.userInfo.phone) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t// 更新本地显示\r\n\t\t\t\t\t\t\t\tthis.userInfo.phone = phone;\r\n\t\t\t\t\t\t\t\tthis.updateData.phone = phone;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t// 保存到后端\r\n\t\t\t\t\t\t\t\tuni.showLoading({ title: '更新中...' });\r\n\t\t\t\t\t\t\t\tawait this.saveUserInfo();\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '手机号已更新',\r\n\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tconsole.error('更新手机号失败:', err);\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '更新手机号失败',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 保存用户信息到后端\r\n\t\t\tasync saveUserInfo() {\r\n\t\t\t\tif (Object.keys(this.updateData).length === 0) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// 调用接口保存用户信息\r\n\t\t\t\t\t// 接口字段说明：\r\n\t\t\t\t\t// avatarUrl - 用户头像URL\r\n\t\t\t\t\t// realName - 用户昵称\r\n\t\t\t\t\t// phone - 用户手机号\r\n\t\t\t\t\tawait user.updateClientProfile(this.updateData);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 更新Vuex中的用户信息\r\n\t\t\t\t\tthis.getUserInfo();\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 清空临时数据\r\n\t\t\t\t\tthis.updateData = {};\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tconsole.error('保存用户信息失败:', err);\r\n\t\t\t\t\tthrow err;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 处理开关变化\r\n\t\t\thandleSwitchChange(type, event) {\r\n\t\t\t\tthis.notifications[type] = event.detail.value\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 处理清除缓存\r\n\t\t\thandleClearCache() {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '确定要清除缓存吗？',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t// 显示加载提示\r\n\t\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t\t\ttitle: '清除中...',\r\n\t\t\t\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t// 清除本地存储中的非必要数据\r\n\t\t\t\t\t\t\t\t// 保留登录信息和用户数据\r\n\t\t\t\t\t\t\t\tconst keysToPreserve = ['token', 'USER_INFO', 'currentLocation'];\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t// 获取所有存储的keys\r\n\t\t\t\t\t\t\t\tuni.getStorageInfo({\r\n\t\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\t\tconst allKeys = res.keys || [];\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t// 过滤出需要删除的keys\r\n\t\t\t\t\t\t\t\t\t\tconst keysToRemove = allKeys.filter(key => !keysToPreserve.includes(key));\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t// 逐个删除存储\r\n\t\t\t\t\t\t\t\t\t\tkeysToRemove.forEach(key => {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(key);\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t// 清除图片缓存\r\n\t\t\t\t\t\t\t\t\t\tuni.getSavedFileList({\r\n\t\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst fileList = res.fileList || [];\r\n\t\t\t\t\t\t\t\t\t\t\t\tfileList.forEach(file => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.removeSavedFile({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilePath: file.filePath,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfail: () => {}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tcomplete: () => {}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t// 更新缓存大小显示\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.updateCacheSize();\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '缓存已清除',\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}, 500);\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: '清除缓存失败',\r\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\tconsole.error('清除缓存出错:', error);\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '清除缓存失败',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 更新缓存大小\r\n\t\t\tupdateCacheSize() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tuni.getStorageInfo({\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t// 计算存储大小（KB）\r\n\t\t\t\t\t\t\tconst sizeInKB = res.currentSize || 0;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// 转换为合适的单位\r\n\t\t\t\t\t\t\tif (sizeInKB < 1024) {\r\n\t\t\t\t\t\t\t\tthis.cacheSize = sizeInKB + 'KB';\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tconst sizeInMB = (sizeInKB / 1024).toFixed(1);\r\n\t\t\t\t\t\t\t\tthis.cacheSize = sizeInMB + 'MB';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\tthis.cacheSize = '0KB';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('获取缓存大小失败:', error);\r\n\t\t\t\t\tthis.cacheSize = '未知';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 处理关于我们\r\n\t\t\thandleAbout() {\r\n\t\t\t\tthis.showAboutPopup = true;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 获取应用基础信息\r\n\t\t\tasync fetchAppBaseInfo() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await settings.getBaseSettings();\r\n\t\t\t\t\tif (res.code === 0 && res.data) {\r\n\t\t\t\t\t\t// 更新应用信息\r\n\t\t\t\t\t\tif (res.data.name) {\r\n\t\t\t\t\t\t\tthis.appInfo.name = res.data.name;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (res.data.description) {\r\n\t\t\t\t\t\t\tthis.appInfo.description = res.data.description;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.error('获取应用基础信息失败:', res.message || '未知错误');\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tconsole.error('请求应用基础信息接口出错:', err);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 处理协议点击\r\n\t\t\thandleAgreement(type) {\r\n\t\t\t\tconst apiType = type === 'service' ? 'user' : 'privacy'\r\n\t\t\t\t\r\n\t\t\t\t// 跳转到协议页面\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/agreement/index?type=${apiType}`\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.container {\r\n\t\tmin-height: 100vh;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tposition: relative;\r\n\t}\r\n\t\r\n\t.nav-bar {\r\n\t\tbackground-color: #ffffff;\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tz-index: 99;\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.04);\r\n\t}\r\n\t\r\n\t.nav-content {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tposition: relative;\r\n\t}\r\n\t\r\n\t.back-btn {\r\n\t\twidth: 88rpx;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tmargin-left: 7px;\r\n\t}\r\n\t\r\n\t.nav-title {\r\n\t\tposition: absolute;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t\tfont-size: 34rpx;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: #333333;\r\n\t\tmax-width: 350rpx;\r\n\t\ttext-align: center;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\t\r\n\t.content-scroll {\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tz-index: 1;\r\n\t\toverflow-y: auto;\r\n\t\t-webkit-overflow-scrolling: touch;\r\n\t}\r\n\t\r\n\t.settings-wrapper {\r\n\t\tpadding: 20rpx 0;\r\n\t\tpadding-bottom: calc(env(safe-area-inset-bottom) + 40rpx);\r\n\t}\r\n\t\r\n\t.settings-section {\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t.section-title {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #999999;\r\n\t\tpadding: 20rpx 30rpx;\r\n\t}\r\n\t\r\n\t.settings-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 30rpx;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-bottom: 1rpx solid #f5f5f5;\r\n\t}\r\n\t\r\n\t.settings-item:last-child {\r\n\t\tborder-bottom: none;\r\n\t}\r\n\t\r\n\t.item-label {\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #333333;\r\n\t}\r\n\t\r\n\t.item-right {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.item-value {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #999999;\r\n\t\tmargin-right: 10rpx;\r\n\t}\r\n\t\r\n\t.avatar-wrapper {\r\n\t\tbackground-color: transparent;\r\n\t\tpadding: 0;\r\n\t\tmargin: 0;\r\n\t\tline-height: 1;\r\n\t\tborder: none;\r\n\t}\r\n\t\r\n\t.avatar-wrapper::after {\r\n\t\tborder: none;\r\n\t}\r\n\t\r\n\t.avatar-preview {\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tmargin-right: 10rpx;\r\n\t}\r\n\t\r\n\t.nickname-input-wrapper, .phone-input-wrapper {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.nickname-input, .phone-input {\r\n\t\ttext-align: right;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333333;\r\n\t\tpadding-right: 10rpx;\r\n\t\twidth: 200rpx;\r\n\t}\r\n\t\r\n\t.cache-size {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #999999;\r\n\t\tmargin-right: 10rpx;\r\n\t}\r\n\t\r\n\t.footer {\r\n\t\tpadding: 40rpx 30rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.agreement-links {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 40rpx;\r\n\t}\r\n\t\r\n\t.agreement-link {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #666666;\r\n\t}\r\n\t\r\n\t.divider {\r\n\t\tmargin: 0 20rpx;\r\n\t\tcolor: #cccccc;\r\n\t}\r\n\t\r\n\t/* 自定义关于我们弹窗样式 */\r\n\t.about-popup {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.6);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tz-index: 999;\r\n\t}\r\n\t\r\n\t.about-container {\r\n\t\twidth: 600rpx;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 20rpx;\r\n\t\toverflow: hidden;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t\r\n\t.about-header {\r\n\t\tposition: relative;\r\n\t\tpadding: 30rpx 0;\r\n\t\ttext-align: center;\r\n\t\tborder-bottom: 1rpx solid #f5f5f5;\r\n\t}\r\n\t\r\n\t.about-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: #333333;\r\n\t}\r\n\t\r\n\t.about-content {\r\n\t\tpadding: 40rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.app-name {\r\n\t\tfont-size: 30rpx;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: #333333;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\t\r\n\t.app-desc {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666666;\r\n\t\ttext-align: center;\r\n\t\tline-height: 1.5;\r\n\t}\r\n\t\r\n\t.about-footer {\r\n\t\tpadding: 20rpx 40rpx 40rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t}\r\n\t\r\n\t.confirm-btn {\r\n\t\twidth: 240rpx;\r\n\t\theight: 80rpx;\r\n\t\tbackground: linear-gradient(135deg, #fc3e2b 0%, #fa7154 100%);\r\n\t\tborder-radius: 40rpx;\r\n\t\tcolor: #ffffff;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tfont-size: 30rpx;\r\n\t}\r\n</style> ","import MiniProgramPage from 'E:/Myxiangmu/chonggou/juzitongcheng/pages/settings/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["mapGetters","deviceInfo","mapActions","getUserInfo","uni","user","res","settings"],"mappings":"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"}