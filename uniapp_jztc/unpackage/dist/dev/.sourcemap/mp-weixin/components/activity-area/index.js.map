{"version":3,"file":"index.js","sources":["components/activity-area/index.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RTovTXl4aWFuZ211L2Nob25nZ291L2p1eml0b25nY2hlbmcvY29tcG9uZW50cy9hY3Rpdml0eS1hcmVhL2luZGV4LnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"activity-area\" v-if=\"isGlobalEnabled\">\n\t\t<view class=\"activity-grid\" :class=\"{ 'small-screen': isSmallScreen, 'large-screen': isLargeScreen }\">\n\t\t\t<!-- 左侧两个卡片 -->\n\t\t\t<view class=\"activity-left\">\n\t\t\t\t<view \n\t\t\t\t\tclass=\"activity-card small\" \n\t\t\t\t\tv-for=\"(item, index) in leftItems\" \n\t\t\t\t\t:key=\"index\" \n\t\t\t\t\t@click=\"handleItemClick(item)\"\n\t\t\t\t>\n\t\t\t\t\t<view :class=\"['card-pattern', getPatternClass(item.position)]\"></view>\n\t\t\t\t\t<view class=\"card-content\">\n\t\t\t\t\t\t<text class=\"card-title\" :class=\"{ 'small-text': isSmallScreen }\">{{ item.title }}</text>\n\t\t\t\t\t\t<text class=\"card-desc\" :class=\"{ 'small-text': isSmallScreen }\">{{ item.description }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 右侧大卡片 -->\n\t\t\t<view class=\"activity-right\" v-if=\"rightItem\">\n\t\t\t\t<view class=\"activity-card large\" @click=\"handleItemClick(rightItem)\">\n\t\t\t\t\t<view class=\"card-pattern video large\"></view>\n\t\t\t\t\t<view class=\"card-content\">\n\t\t\t\t\t\t<view class=\"title-wrapper\">\n\t\t\t\t\t\t\t<text class=\"card-title\" :class=\"{ 'small-text': isSmallScreen }\">{{ rightItem.title }}</text>\n\t\t\t\t\t\t\t<view class=\"no-money-wrapper\">\n\t\t\t\t\t\t\t\t<text class=\"no-money-text\">免费</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"card-desc\" :class=\"{ 'small-text': isSmallScreen }\">{{ rightItem.description }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport { get } from '@/utils/request.js';\n\timport deviceAdapter from '@/mixins/device-adapter.js';\n\t\n\texport default {\n\t\tname: 'ActivityArea',\n\t\tmixins: [deviceAdapter],\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tactivityList: [],\n\t\t\t\tisGlobalEnabled: false,\n\t\t\t\tleftItems: [],\n\t\t\t\trightItem: null\n\t\t\t}\n\t\t},\n\t\tcreated() {\n\t\t\t// 移除自动加载，由父组件控制加载时机\n\t\t\t// this.fetchActivityData();\n\t\t},\n\t\tmethods: {\n\t\t\tasync fetchActivityData() {\n\t\t\t\ttry {\n\t\t\t\t\tconst result = await get('/wx/activity-area/get');\n\t\t\t\t\tif (result && result.code === 0) {\n\t\t\t\t\t\tthis.isGlobalEnabled = result.data.isGlobalEnabled;\n\t\t\t\t\t\tif (this.isGlobalEnabled && result.data.list) {\n\t\t\t\t\t\t\tthis.activityList = result.data.list;\n\t\t\t\t\t\t\tthis.processActivityData();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('获取活动区域数据失败', error);\n\t\t\t\t}\n\t\t\t},\n\t\t\tprocessActivityData() {\n\t\t\t\t// 分类处理活动数据\n\t\t\t\tthis.leftItems = this.activityList.filter(item => \n\t\t\t\t\titem.position === 'topLeft' || item.position === 'bottomLeft'\n\t\t\t\t);\n\t\t\t\tthis.rightItem = this.activityList.find(item => item.position === 'right');\n\t\t\t},\n\t\t\tgetPatternClass(position) {\n\t\t\t\t// 根据位置返回对应的样式类\n\t\t\t\tif (position === 'topLeft') return 'music';\n\t\t\t\tif (position === 'bottomLeft') return 'coupon';\n\t\t\t\tif (position === 'right') return 'video';\n\t\t\t\treturn '';\n\t\t\t},\n\t\t\thandleItemClick(item) {\n\t\t\t\tif (item.linkType === 'page' && item.linkUrl) {\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: '/' + item.linkUrl\n\t\t\t\t\t});\n\t\t\t\t} else if (item.linkType === 'webview' && item.linkUrl) {\n\t\t\t\t\t// 处理外部链接\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: '/pages/webview/index?url=' + encodeURIComponent(item.linkUrl)\n\t\t\t\t\t});\n\t\t\t\t} else if (item.linkType === 'miniprogram' && item.linkUrl) {\n\t\t\t\t\t// 跳转到其他小程序\n\t\t\t\t\tuni.navigateToMiniProgram({\n\t\t\t\t\t\tappId: item.linkUrl,\n\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\tconsole.error('小程序跳转失败', item.linkUrl, err);\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '跳转失败',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.activity-area {\n\t\tpadding: 20rpx;\n\t\tbackground-color: #ffffff;\n\t}\n\t\n\t.activity-grid {\n\t\tdisplay: flex;\n\t\tgap: 20rpx;\n\t}\n\t\n\t/* 小屏幕适配 */\n\t.activity-grid.small-screen {\n\t\tgap: 10rpx;\n\t}\n\t\n\t/* 大屏幕适配 */\n\t.activity-grid.large-screen {\n\t\tgap: 30rpx;\n\t\tmax-width: 1200rpx;\n\t\tmargin: 0 auto;\n\t}\n\t\n\t.activity-left {\n\t\tflex: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 20rpx;\n\t}\n\t\n\t.activity-grid.small-screen .activity-left {\n\t\tgap: 10rpx;\n\t}\n\t\n\t.activity-grid.large-screen .activity-left {\n\t\tgap: 30rpx;\n\t}\n\t\n\t.activity-right {\n\t\tflex: 1;\n\t}\n\t\n\t.activity-card {\n\t\tbackground: #f8f8f8;\n\t\tborder-radius: 16rpx;\n\t\tposition: relative;\n\t\toverflow: hidden;\n\t\ttransition: transform 0.2s ease;\n\t}\n\t\n\t.activity-card:active {\n\t\ttransform: scale(0.98);\n\t}\n\t\n\t.activity-card.small {\n\t\theight: 160rpx;\n\t}\n\t\n\t.activity-grid.small-screen .activity-card.small {\n\t\theight: 140rpx;\n\t}\n\t\n\t.activity-grid.large-screen .activity-card.small {\n\t\theight: 180rpx;\n\t}\n\t\n\t.activity-card.large {\n\t\theight: 340rpx;\n\t\theight: calc(160rpx * 2 + 20rpx);\n\t}\n\t\n\t.activity-grid.small-screen .activity-card.large {\n\t\theight: calc(140rpx * 2 + 10rpx);\n\t}\n\t\n\t.activity-grid.large-screen .activity-card.large {\n\t\theight: calc(180rpx * 2 + 30rpx);\n\t}\n\t\n\t.card-content {\n\t\tposition: absolute;\n\t\ttop: 20rpx;\n\t\tleft: 20rpx;\n\t\tz-index: 1;\n\t}\n\t\n\t.activity-grid.small-screen .card-content {\n\t\ttop: 10rpx;\n\t\tleft: 10rpx;\n\t}\n\t\n\t.activity-grid.large-screen .card-content {\n\t\ttop: 30rpx;\n\t\tleft: 30rpx;\n\t}\n\t\n\t.card-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333333;\n\t\tdisplay: block;\n\t\tmargin-bottom: 8rpx;\n\t}\n\t\n\t.card-title.small-text {\n\t\tfont-size: 28rpx;\n\t}\n\t\n\t.right-column .card-title {\n\t\tdisplay: inline-block;\n\t\tmargin-bottom: 0;\n\t\tline-height: 1;\n\t}\n\t\n\t.arrow-wrapper {\n\t\tmargin-top: 8rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\twidth: 24rpx;\n\t\theight: 24rpx;\n\t\tbackground: rgba(102, 102, 102, 0.1);\n\t\tborder-radius: 50%;\n\t}\n\t\n\t.no-money-wrapper {\n\t\tbackground: linear-gradient(to right, #ff6b6b, #ff3366);\n\t\tpadding: 4rpx 12rpx;\n\t\tborder-radius: 8rpx;\n\t\tdisplay: inline-flex;\n\t\talign-items: center;\n\t\ttransform: scale(0.95);\n\t\tline-height: 1;\n\t}\n\t\n\t.no-money-text {\n\t\tcolor: #ffffff;\n\t\tfont-size: 24rpx;\n\t\tline-height: 1;\n\t}\n\t\n\t.title-wrapper {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8rpx;\n\t\tline-height: 1;\n\t}\n\t\n\t.card-pattern {\n\t\tposition: absolute;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\twidth: 120rpx;\n\t\theight: 120rpx;\n\t\tbackground: linear-gradient(135deg, transparent 40%, rgba(252, 62, 43, 0.15) 40%);\n\t\tborder-radius: 0 0 16rpx 0;\n\t\topacity: 0.8;\n\t}\n\t\n\t.activity-grid.small-screen .card-pattern {\n\t\twidth: 100rpx;\n\t\theight: 100rpx;\n\t}\n\t\n\t.activity-grid.large-screen .card-pattern {\n\t\twidth: 140rpx;\n\t\theight: 140rpx;\n\t}\n\t\n\t.card-pattern.music {\n\t\tbackground: linear-gradient(135deg, transparent 40%, rgba(26, 173, 25, 0.15) 40%);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t\n\t.card-pattern.music::before {\n\t\tcontent: 'VIP';\n\t\tposition: absolute;\n\t\tright: 20rpx;\n\t\tbottom: 20rpx;\n\t\tcolor: rgba(26, 173, 25, 0.5);\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\ttransform: rotate(-45deg);\n\t\tanimation: pulse 2s infinite;\n\t}\n\t\n\t.activity-grid.small-screen .card-pattern.music::before {\n\t\tfont-size: 28rpx;\n\t\tright: 16rpx;\n\t\tbottom: 16rpx;\n\t}\n\t\n\t@keyframes pulse {\n\t\t0% {\n\t\t\topacity: 0.5;\n\t\t}\n\t\t50% {\n\t\t\topacity: 1;\n\t\t}\n\t\t100% {\n\t\t\topacity: 0.5;\n\t\t}\n\t}\n\t\n\t.card-pattern.video.large {\n\t\twidth: 160rpx;\n\t\theight: 160rpx;\n\t\tbackground: linear-gradient(135deg, transparent 40%, rgba(0, 161, 214, 0.15) 40%);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t\n\t.activity-grid.small-screen .card-pattern.video.large {\n\t\twidth: 140rpx;\n\t\theight: 140rpx;\n\t}\n\t\n\t.activity-grid.large-screen .card-pattern.video.large {\n\t\twidth: 180rpx;\n\t\theight: 180rpx;\n\t}\n\t\n\t.card-pattern.video::before {\n\t\tcontent: '视频';\n\t\tposition: absolute;\n\t\tright: 30rpx;\n\t\tbottom: 30rpx;\n\t\tcolor: rgba(0, 161, 214, 0.5);\n\t\tfont-size: 36rpx;\n\t\tfont-weight: bold;\n\t\ttransform: rotate(-45deg);\n\t}\n\t\n\t.activity-grid.small-screen .card-pattern.video::before {\n\t\tfont-size: 32rpx;\n\t\tright: 24rpx;\n\t\tbottom: 24rpx;\n\t}\n\t\n\t.card-pattern.coupon {\n\t\tbackground: linear-gradient(135deg, transparent 40%, rgba(255, 102, 0, 0.15) 40%);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t\n\t.card-pattern.coupon::before {\n\t\tcontent: '兑';\n\t\tposition: absolute;\n\t\tright: 20rpx;\n\t\tbottom: 20rpx;\n\t\tcolor: rgba(255, 102, 0, 0.5);\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\ttransform: rotate(-45deg);\n\t}\n\t\n\t.activity-grid.small-screen .card-pattern.coupon::before {\n\t\tfont-size: 28rpx;\n\t\tright: 16rpx;\n\t\tbottom: 16rpx;\n\t}\n\t\n\t.card-desc {\n\t\tfont-size: 24rpx;\n\t\tcolor: #666666;\n\t}\n\t\n\t.card-desc.small-text {\n\t\tfont-size: 22rpx;\n\t}\n</style>","import Component from 'E:/Myxiangmu/chonggou/juzitongcheng/components/activity-area/index.vue'\nwx.createComponent(Component)"],"names":["deviceAdapter","get","uni"],"mappings":";;;;AA0CC,MAAK,YAAU;AAAA,EACd,MAAM;AAAA,EACN,QAAQ,CAACA,qBAAAA,aAAa;AAAA,EACtB,OAAO;AACN,WAAO;AAAA,MACN,cAAc,CAAE;AAAA,MAChB,iBAAiB;AAAA,MACjB,WAAW,CAAE;AAAA,MACb,WAAW;AAAA,IACZ;AAAA,EACA;AAAA,EACD,UAAU;AAAA,EAGT;AAAA,EACD,SAAS;AAAA,IACR,MAAM,oBAAoB;AACzB,UAAI;AACH,cAAM,SAAS,MAAMC,kBAAI,uBAAuB;AAChD,YAAI,UAAU,OAAO,SAAS,GAAG;AAChC,eAAK,kBAAkB,OAAO,KAAK;AACnC,cAAI,KAAK,mBAAmB,OAAO,KAAK,MAAM;AAC7C,iBAAK,eAAe,OAAO,KAAK;AAChC,iBAAK,oBAAmB;AAAA,UACzB;AAAA,QACD;AAAA,MACC,SAAO,OAAO;AACfC,sBAAA,MAAA,MAAA,SAAA,4CAAc,cAAc,KAAK;AAAA,MAClC;AAAA,IACA;AAAA,IACD,sBAAsB;AAErB,WAAK,YAAY,KAAK,aAAa;AAAA,QAAO,UACzC,KAAK,aAAa,aAAa,KAAK,aAAa;AAAA;AAElD,WAAK,YAAY,KAAK,aAAa,KAAK,UAAQ,KAAK,aAAa,OAAO;AAAA,IACzE;AAAA,IACD,gBAAgB,UAAU;AAEzB,UAAI,aAAa;AAAW,eAAO;AACnC,UAAI,aAAa;AAAc,eAAO;AACtC,UAAI,aAAa;AAAS,eAAO;AACjC,aAAO;AAAA,IACP;AAAA,IACD,gBAAgB,MAAM;AACrB,UAAI,KAAK,aAAa,UAAU,KAAK,SAAS;AAC7CA,sBAAAA,MAAI,WAAW;AAAA,UACd,KAAK,MAAM,KAAK;AAAA,QACjB,CAAC;AAAA,MACA,WAAS,KAAK,aAAa,aAAa,KAAK,SAAS;AAEvDA,sBAAAA,MAAI,WAAW;AAAA,UACd,KAAK,8BAA8B,mBAAmB,KAAK,OAAO;AAAA,QACnE,CAAC;AAAA,MACA,WAAS,KAAK,aAAa,iBAAiB,KAAK,SAAS;AAE3DA,sBAAAA,MAAI,sBAAsB;AAAA,UACzB,OAAO,KAAK;AAAA,UACZ,MAAM,CAAC,QAAQ;AACdA,gCAAc,MAAA,SAAA,6CAAA,WAAW,KAAK,SAAS,GAAG;AAC1CA,0BAAAA,MAAI,UAAU;AAAA,cACb,OAAO;AAAA,cACP,MAAM;AAAA,YACP,CAAC;AAAA,UACF;AAAA,QACD,CAAC;AAAA,MACF;AAAA,IACD;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9GD,GAAG,gBAAgB,SAAS;"}