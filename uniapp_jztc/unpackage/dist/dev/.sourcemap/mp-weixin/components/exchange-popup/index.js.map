{"version":3,"file":"index.js","sources":["components/exchange-popup/index.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RTovTXl4aWFuZ211L2Nob25nZ291L2p1eml0b25nY2hlbmcvY29tcG9uZW50cy9leGNoYW5nZS1wb3B1cC9pbmRleC52dWU"],"sourcesContent":["<template>\r\n\t<uni-popup ref=\"popup\" type=\"bottom\">\r\n\t\t<view class=\"exchange-popup\">\r\n\t\t\t<view class=\"popup-header\">\r\n\t\t\t\t<text class=\"popup-title\">兑换会员</text>\r\n\t\t\t\t<view class=\"close-btn\" @tap=\"closePopup\">\r\n\t\t\t\t\t<uni-icons type=\"close\" size=\"20\" color=\"#333\"></uni-icons>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"popup-content\">\r\n\t\t\t\t<view class=\"product-info\" v-if=\"productInfo\">\r\n\t\t\t\t\t<image class=\"product-icon\" :src=\"productInfo.thumbnail\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t<text class=\"product-name\">{{productInfo.name}}</text>\r\n\t\t\t\t\t<text class=\"product-desc\">需{{productInfo.duration}}天会员时长</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"input-group\">\r\n\t\t\t\t\t<view class=\"input-item\">\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\tclass=\"phone-input\"\r\n\t\t\t\t\t\t\ttype=\"number\" \r\n\t\t\t\t\t\t\tv-model=\"phone\" \r\n\t\t\t\t\t\t\tmaxlength=\"11\" \r\n\t\t\t\t\t\t\tplaceholder=\"请输入领取该权益的手机号\" \r\n\t\t\t\t\t\t\tplaceholder-class=\"placeholder\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"input-item\">\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\tclass=\"phone-input\"\r\n\t\t\t\t\t\t\ttype=\"number\" \r\n\t\t\t\t\t\t\tv-model=\"confirmPhone\" \r\n\t\t\t\t\t\t\tmaxlength=\"11\" \r\n\t\t\t\t\t\t\tplaceholder=\"请再次输入领取该权益的手机号\" \r\n\t\t\t\t\t\t\tplaceholder-class=\"placeholder\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"confirm-btn\" @tap=\"handleConfirm\">\r\n\t\t\t\t\t<text class=\"btn-text\">确认兑换</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</uni-popup>\r\n</template>\r\n\r\n<script>\r\n\t// 直接导入uni组件\r\n\timport uniPopup from '@dcloudio/uni-ui/lib/uni-popup/uni-popup'\r\n\timport uniIcons from '@dcloudio/uni-ui/lib/uni-icons/uni-icons'\r\n\t\r\n\texport default {\r\n\t\tname: 'exchange-popup',\r\n\t\tcomponents: {\r\n\t\t\tuniPopup,\r\n\t\t\tuniIcons\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tphone: '',\r\n\t\t\t\tconfirmPhone: '',\r\n\t\t\t\tproductInfo: null\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// 确保组件初始化完成\r\n\t\t\tconsole.log('Exchange popup component mounted')\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 打开弹窗\r\n\t\t\topen(product) {\r\n\t\t\t\tconsole.log('Try to open popup with product:', product)\r\n\t\t\t\tthis.productInfo = product\r\n\t\t\t\t// 清空输入框\r\n\t\t\t\tthis.phone = ''\r\n\t\t\t\tthis.confirmPhone = ''\r\n\t\t\t\t// 打开弹窗\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tif (this.$refs.popup) {\r\n\t\t\t\t\t\tthis.$refs.popup.open('bottom')\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.error('Popup ref not found')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 关闭弹窗\r\n\t\t\tclosePopup() {\r\n\t\t\t\tthis.$refs.popup.close()\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 确认兑换\r\n\t\t\thandleConfirm() {\r\n\t\t\t\t// 验证手机号\r\n\t\t\t\tif (!this.phone) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入手机号',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (!/^1\\d{10}$/.test(this.phone)) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入正确的手机号',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (this.phone !== this.confirmPhone) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '两次输入的手机号不一致',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 适配接口参数格式\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tduration: this.productInfo.duration || 0,\r\n\t\t\t\t\tproductName: this.productInfo.name || '',\r\n\t\t\t\t\trechargeAccount: this.phone\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 触发确认事件\r\n\t\t\t\tthis.$emit('confirm', data)\r\n\t\t\t\t\r\n\t\t\t\t// 关闭弹窗\r\n\t\t\t\tthis.closePopup()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t/* 兑换弹窗样式 */\r\n\t.exchange-popup {\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 24rpx 24rpx 0 0;\r\n\t\twidth: 100%;\r\n\t}\r\n\t\r\n\t.popup-header {\r\n\t\tposition: relative;\r\n\t\ttext-align: center;\r\n\t\tpadding: 30rpx 0;\r\n\t\tborder-bottom: 1px solid #f0f0f0;\r\n\t}\r\n\t\r\n\t.popup-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333333;\r\n\t}\r\n\t\r\n\t.close-btn {\r\n\t\tposition: absolute;\r\n\t\tright: 30rpx;\r\n\t\ttop: 50%;\r\n\t\ttransform: translateY(-50%);\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\t\r\n\t.popup-content {\r\n\t\tpadding: 30rpx;\r\n\t}\r\n\t\r\n\t.product-info {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 40rpx;\r\n\t}\r\n\t\r\n\t.product-icon {\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tmargin-bottom: 16rpx;\r\n\t}\r\n\t\r\n\t.product-name {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #333333;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-bottom: 8rpx;\r\n\t}\r\n\t\r\n\t.product-desc {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #fc3e2b;\r\n\t}\r\n\t\r\n\t.input-group {\r\n\t\tmargin-bottom: 40rpx;\r\n\t}\r\n\t\r\n\t.input-item {\r\n\t\tbackground: #f8f8f8;\r\n\t\tborder-radius: 12rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t.phone-input {\r\n\t\twidth: 100%;\r\n\t\theight: 40rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333333;\r\n\t}\r\n\t\r\n\t.placeholder {\r\n\t\tcolor: #999999;\r\n\t}\r\n\t\r\n\t.confirm-btn {\r\n\t\tbackground: linear-gradient(135deg, #fc3e2b 0%, #fa7154 100%);\r\n\t\tborder-radius: 12rpx;\r\n\t\theight: 88rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\t\r\n\t.btn-text {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #ffffff;\r\n\t\tfont-weight: 500;\r\n\t}\r\n</style> ","import Component from 'E:/Myxiangmu/chonggou/juzitongcheng/components/exchange-popup/index.vue'\nwx.createComponent(Component)"],"names":["uni"],"mappings":";;AAkDC,MAAK,WAAY,MAAW;AAC5B,MAAK,WAAY,MAAW;AAE5B,MAAK,YAAU;AAAA,EACd,MAAM;AAAA,EACN,YAAY;AAAA,IACX;AAAA,IACA;AAAA,EACA;AAAA,EACD,OAAO;AACN,WAAO;AAAA,MACN,OAAO;AAAA,MACP,cAAc;AAAA,MACd,aAAa;AAAA,IACd;AAAA,EACA;AAAA,EACD,UAAU;AAETA,kBAAAA,MAAA,MAAA,OAAA,6CAAY,kCAAkC;AAAA,EAC9C;AAAA,EACD,SAAS;AAAA;AAAA,IAER,KAAK,SAAS;AACbA,oBAAAA,MAAA,MAAA,OAAA,6CAAY,mCAAmC,OAAO;AACtD,WAAK,cAAc;AAEnB,WAAK,QAAQ;AACb,WAAK,eAAe;AAEpB,WAAK,UAAU,MAAM;AACpB,YAAI,KAAK,MAAM,OAAO;AACrB,eAAK,MAAM,MAAM,KAAK,QAAQ;AAAA,eACxB;AACNA,wBAAAA,MAAA,MAAA,SAAA,6CAAc,qBAAqB;AAAA,QACpC;AAAA,OACA;AAAA,IACD;AAAA;AAAA,IAGD,aAAa;AACZ,WAAK,MAAM,MAAM,MAAM;AAAA,IACvB;AAAA;AAAA,IAGD,gBAAgB;AAEf,UAAI,CAAC,KAAK,OAAO;AAChBA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,SACN;AACD;AAAA,MACD;AAEA,UAAI,CAAC,YAAY,KAAK,KAAK,KAAK,GAAG;AAClCA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,SACN;AACD;AAAA,MACD;AAEA,UAAI,KAAK,UAAU,KAAK,cAAc;AACrCA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,SACN;AACD;AAAA,MACD;AAGA,YAAM,OAAO;AAAA,QACZ,UAAU,KAAK,YAAY,YAAY;AAAA,QACvC,aAAa,KAAK,YAAY,QAAQ;AAAA,QACtC,iBAAiB,KAAK;AAAA,MACvB;AAGA,WAAK,MAAM,WAAW,IAAI;AAG1B,WAAK,WAAW;AAAA,IACjB;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrID,GAAG,gBAAgB,SAAS;"}