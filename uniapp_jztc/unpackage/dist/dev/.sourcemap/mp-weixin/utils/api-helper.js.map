{"version":3,"file":"api-helper.js","sources":["utils/api-helper.js"],"sourcesContent":["/**\r\n * API辅助工具\r\n * 提供API调用相关的通用工具函数\r\n */\r\n\r\n/**\r\n * 替换URL中的路径参数\r\n * 例如：replacePathParams('/users/:id', {id: 1}) => '/users/1'\r\n * \r\n * @param {string} path - 带参数的路径\r\n * @param {Object} params - 参数对象\r\n * @returns {string} 替换后的路径\r\n */\r\nexport const replacePathParams = (path, params = {}) => {\r\n  let result = path;\r\n  Object.keys(params).forEach(key => {\r\n    result = result.replace(`:${key}`, params[key]);\r\n  });\r\n  return result;\r\n};\r\n\r\n/**\r\n * 将对象转换为查询字符串\r\n * 例如：objectToQueryString({name: 'test', age: 18}) => 'name=test&age=18'\r\n * \r\n * @param {Object} params - 参数对象\r\n * @returns {string} 查询字符串\r\n */\r\nexport const objectToQueryString = (params = {}) => {\r\n  return Object.keys(params)\r\n    .filter(key => params[key] !== undefined && params[key] !== null && params[key] !== '')\r\n    .map(key => `${encodeURIComponent(key)}=${encodeURIComponent(params[key])}`)\r\n    .join('&');\r\n};\r\n\r\n/**\r\n * 构建带查询参数的URL\r\n * 例如：buildUrl('/users', {page: 1, size: 10}) => '/users?page=1&size=10'\r\n * \r\n * @param {string} url - 基础URL\r\n * @param {Object} params - 查询参数\r\n * @returns {string} 完整URL\r\n */\r\nexport const buildUrl = (url, params = {}) => {\r\n  const queryString = objectToQueryString(params);\r\n  return queryString ? `${url}?${queryString}` : url;\r\n};\r\n\r\n/**\r\n * 格式化后端返回的日期时间\r\n * \r\n * @param {string} dateStr - 日期字符串\r\n * @param {string} format - 格式化模板，默认为'YYYY-MM-DD HH:mm'\r\n * @returns {string} 格式化后的日期字符串\r\n */\r\nexport const formatDateTime = (dateStr, format = 'YYYY-MM-DD HH:mm') => {\r\n  if (!dateStr) return '';\r\n  \r\n  const date = new Date(dateStr);\r\n  const year = date.getFullYear();\r\n  const month = String(date.getMonth() + 1).padStart(2, '0');\r\n  const day = String(date.getDate()).padStart(2, '0');\r\n  const hours = String(date.getHours()).padStart(2, '0');\r\n  const minutes = String(date.getMinutes()).padStart(2, '0');\r\n  const seconds = String(date.getSeconds()).padStart(2, '0');\r\n  \r\n  return format\r\n    .replace('YYYY', year)\r\n    .replace('MM', month)\r\n    .replace('DD', day)\r\n    .replace('HH', hours)\r\n    .replace('mm', minutes)\r\n    .replace('ss', seconds);\r\n};\r\n\r\nexport default {\r\n  replacePathParams,\r\n  objectToQueryString,\r\n  buildUrl,\r\n  formatDateTime\r\n}; "],"names":[],"mappings":";AAaY,MAAC,oBAAoB,CAAC,MAAM,SAAS,OAAO;AACtD,MAAI,SAAS;AACb,SAAO,KAAK,MAAM,EAAE,QAAQ,SAAO;AACjC,aAAS,OAAO,QAAQ,IAAI,GAAG,IAAI,OAAO,GAAG,CAAC;AAAA,EAClD,CAAG;AACD,SAAO;AACT;;"}